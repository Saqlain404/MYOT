{"version":3,"file":"static/js/4932.eb93cad4.chunk.js","mappings":"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","sources":["Components/Approver/EditProfileAprv.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport RightSidebar from \"../RightSidebar\";\r\n\r\nimport Sidebar from \"../Sidebar\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport SidebarAprv from \"./SidebarAprv\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport { updateProfile } from \"../../ApiServices/aprroverHttpServices/aprproverHttpService\";\r\nimport Swal from \"sweetalert2\";\r\nimport { updateProfilePic, updateUserName } from \"../app/slice/userSlice\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Button } from \"rsuite\";\r\n\r\nconst EditProfileAprv = () => {\r\n  const [profileImgUrl, setProfileImgUrl] = useState();\r\n  const [error, setError] = useState();\r\n  const [cError, setCError] = useState();\r\n  const [passVisible, setPassVisible] = useState(false);\r\n  const [cPassVisible, setCPassVisible] = useState(false);\r\n\r\n  const ids =\r\n    localStorage.getItem(\"user_id\") || localStorage.getItem(\"myot_admin_id\");\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const location = useLocation();\r\n  const { state } = location;\r\n\r\n  const [post, setPost] = useState({\r\n    name: \"\",\r\n    // email: \"\",\r\n    // mobileNumber: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    // DOB:'',\r\n    profile_Pic: null,\r\n  });\r\n\r\n  const onFileSelection = (event) => {\r\n    setPost({ ...post, profile_Pic: event.target.files[0] });\r\n    const selectedFile = event.target.files[0];\r\n    const imageUrl = URL.createObjectURL(selectedFile);\r\n    setProfileImgUrl(imageUrl);\r\n  };\r\n\r\n  const navigate = useNavigate();\r\n  const handleInput = (event) => {\r\n    setPost({ ...post, [event.target.name]: event.target.value });\r\n    setError(\"\")\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!localStorage.getItem(\"token-company\")) {\r\n      navigate(\"/Employee/edit-profile\");\r\n    }\r\n  }, []);\r\n\r\n  const passwordRegex = /^(?=.*[A-Z])(?=.*[!@#$%^&*])(?=.{8,})/;\r\n\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    \r\n    if  (post.password && !passwordRegex.test(post.password)) {\r\n      setError(\r\n        \"Password must be at least 8 characters long, contain one uppercase letter, and one special character\"\r\n      );\r\n      return false;\r\n    }\r\n\r\n    if (post.confirmPassword !== post.password) {\r\n      setCError(\"Passwords do not match\");\r\n      return false;\r\n    }\r\n    const formData = new FormData();\r\n    formData.append(\"name\", post.name);\r\n    // formData.append(\"email\", post.email);\r\n    // formData.append(\"mobileNumber\", post.mobileNumber);\r\n    formData.append(\"password\", post.password);\r\n    formData.append(\"confirmPassword\", post.confirmPassword);\r\n    formData.append(\"profile_Pic\", post.profile_Pic);\r\n    // formData.append(\"DOB\", post.DOB);\r\n\r\n    const response = await updateProfile(formData);\r\n\r\n    if (!response.data?.error) {\r\n      navigate(\"/Approver/My-profile\");\r\n      Swal.fire({\r\n        toast: true,\r\n        icon: \"success\",\r\n        position: \"top-end\",\r\n        title: \"Profile Updated\",\r\n        showConfirmButton: false,\r\n        timerProgressBar: true,\r\n        timer: 3000,\r\n      });\r\n      dispatch(updateProfilePic(response?.data?.results?.approver?.profile_Pic));\r\n      dispatch(updateUserName(response?.data?.results?.approver?.name));\r\n      console.log(response);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-2 sidebar\">\r\n            <SidebarAprv />\r\n          </div>\r\n          <div className=\"col-7 middle-content p-0 min-vh-100\">\r\n            <div className=\"container-fluid sticky-top bg-white mb-4\">\r\n              <nav className=\"row header bg-white  \">\r\n                <ul className=\"col align-items-center mt-3\">\r\n                  <li className=\"nav-item dropdown-hover d-none d-lg-block\">\r\n                    <a className=\"nav-link fw-bold ms-2\">\r\n                      My Profile / Edit\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n                <div className=\"col-7 d-flex align-items-center  justify-content-end\">\r\n                  {/* <form className=\"\" role=\"search\">\r\n                    <input\r\n                      className=\"form-control search-bar\"\r\n                      type=\"search\"\r\n                      placeholder=\"Search\"\r\n                      aria-label=\"Search\"\r\n                    />\r\n                  </form> */}\r\n                  <div className=\"\">\r\n                    <img\r\n                      src=\"/images/dashboard/announcement.png\"\r\n                      alt=\"\"\r\n                      className=\"ms-4 \"\r\n                    />\r\n                    <Link to={\"/Approver/Chat\"}>\r\n                      <img\r\n                        src=\"/images/dashboard/chat-left-dots-fill.png\"\r\n                        alt=\"\"\r\n                        className=\"ms-4\"\r\n                      />\r\n                    </Link>\r\n                    <img\r\n                      src=\"/images/dashboard/round-notifications.png\"\r\n                      alt=\"\"\r\n                      className=\"ms-4\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </nav>\r\n            </div>\r\n\r\n            <div className=\"container px-4 text-center min-vh-100 \">\r\n              <div className=\"row rounded\">\r\n                <div className=\" d-flex justify-content-between\">\r\n                  <p className=\"profile-txt m-2\">Your Profile Picture</p>\r\n                </div>\r\n\r\n                <form className=\"row\" onSubmit={onSubmit}>\r\n                  <div className=\"d-flex flex-column align-items-start mb-4\">\r\n                    <label htmlFor=\"new_img\">\r\n                      <img\r\n                        src={\r\n                          profileImgUrl\r\n                            ? profileImgUrl\r\n                            : state?.profile_Pic\r\n                        }\r\n                        alt=\"\"\r\n                        className=\"w_100_h_100\"\r\n                        style={{ cursor: \"pointer\" }}\r\n                      />\r\n                    </label>\r\n                    <input\r\n                      className=\"file-upload\"\r\n                      style={{ display: \"none\" }}\r\n                      type=\"file\"\r\n                      id=\"new_img\"\r\n                      accept=\"image/*\"\r\n                      name=\"profile_Pic\"\r\n                      // onChange={(e) => onFileSelection(e, \"image\")}\r\n                      onChange={onFileSelection}\r\n                    />\r\n                    {/* {validationErrors.profile_Pic && <p className=\" d-flex align-items-end text-danger ms-2 mt-2\">{validationErrors.profile_Pic}</p>} */}\r\n                  </div>\r\n                   <div className=\"col-12 m-2\">\r\n                      <p className=\" d-flex justify-content-start profile-card-title\">\r\n                        Full Name\r\n                      </p>\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"Full Name\"\r\n                        className=\"col-12 profile-edit-input p-2\"\r\n                        name=\"name\"\r\n                        // value={post.name}\r\n                        defaultValue={state?.name}\r\n                        onChange={handleInput}\r\n                        />\r\n                    </div>\r\n                  {/* <div className=\"col-12 d-flex justify-content-between mb-2\"> */}\r\n                  {/* <div className=\"col-6 m-2\">\r\n                      <p className=\" d-flex justify-content-start profile-card-title\">\r\n                        Email\r\n                      </p>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={post.email}\r\n                        placeholder=\"Email\"\r\n                        className=\"col-12 profile-edit-input p-2\"\r\n                        name=\"email\"\r\n                        onChange={handleInput}\r\n                        />\r\n                        {validationErrors.email && <p>{validationErrors.email}</p>}\r\n                    </div> */}\r\n                  {/* </div> */}\r\n                  {/* <div className=\"col-12 d-flex justify-content-between mb-2\">\r\n                    <div className=\"col-6 m-2\">\r\n                      <p className=\" d-flex justify-content-start profile-card-title\">\r\n                        Phone Number\r\n                      </p>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={post.mobileNumber}\r\n                        placeholder=\"Phone Number\"\r\n                        className=\"col-12 profile-edit-input p-2\"\r\n                        name=\"mobileNumber\"\r\n                        onChange={handleInput}\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-6 m-2\">\r\n                      <p className=\" d-flex justify-content-start profile-card-title\">Date of Birth</p>\r\n                       <input type=\"text\" \r\n                       placeholder=\"Date of Birth\"\r\n                       value={post.DOB}\r\n                       onChange={handleInput} \r\n                       name=\"DOB\"\r\n                       className=\"col-12 profile-edit-input p-2\" />\r\n                     </div>\r\n                  </div> */}\r\n                  <div className=\"col-12 d-flex justify-content-between mt-3 \">\r\n                    <div className=\"col-6 m-2 position-relative\">\r\n                      <p className=\" d-flex justify-content-start profile-card-title\">\r\n                        Password\r\n                      </p>\r\n                      <input\r\n                        type={passVisible ? \"text\" : \"password\"}\r\n                        value={post.password}\r\n                        placeholder=\"Password\"\r\n                        className=\"col-12 profile-edit-input p-2\"\r\n                        name=\"password\"\r\n                        onChange={handleInput}\r\n                      />\r\n                      {error && (\r\n                        <p className=\" errorText  \">\r\n                          {error}\r\n                        </p>\r\n                      )}\r\n                       <div\r\n                          className=\"eye_container eye_container2 pt-1\"\r\n                          onClick={() => setPassVisible(!passVisible)}\r\n                        >\r\n                          {passVisible ? (\r\n                            <img\r\n                              className=\"eye_icon\"\r\n                              src=\"/images/icons/view.png\"\r\n                              alt=\"\"\r\n                            />\r\n                          ) : (\r\n                            <img\r\n                              className=\"eye_icon\"\r\n                              src=\"/images/icons/hide.png\"\r\n                              alt=\"\"\r\n                            /> \r\n                          )}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-6 m-2 position-relative\">\r\n                      <p className=\" d-flex justify-content-start profile-card-title\">\r\n                        Confirm Password\r\n                      </p>\r\n                      <input\r\n                         type={cPassVisible ? 'text' : \"password\"}\r\n                        value={post.confirmPassword}\r\n                        placeholder=\"Confirm Password\"\r\n                        className=\"col-12 profile-edit-input p-2\"\r\n                        name=\"confirmPassword\"\r\n                        onChange={handleInput}\r\n                      />\r\n                      {cError && (\r\n                        <p className=\"d-flex errorText ms-2 justify-content-start\">\r\n                          {cError}\r\n                        </p>\r\n                      )}\r\n                       <div\r\n                          className=\"eye_container eye_container2 pt-1\"\r\n                          onClick={() => setCPassVisible(!cPassVisible)}\r\n                        >\r\n                          {cPassVisible ? (\r\n                            <img\r\n                              className=\"eye_icon\"\r\n                              src=\"/images/icons/view.png\"\r\n                              alt=\"\"\r\n                            />\r\n                          ) : (\r\n                            <img\r\n                              className=\"eye_icon\"\r\n                              src=\"/images/icons/hide.png\"\r\n                              alt=\"\"\r\n                            />\r\n                          )}\r\n                        </div>\r\n                    </div>\r\n                  </div>\r\n \r\n                  <div className=\"text-end  ms-4 mt-1 \">\r\n                    <Button appearance=\"primary\" className=\"profile-edit-submit btn  rounded-2 m-0\" type=\"submit\">\r\n                      Update Profile\r\n                    </Button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col\">\r\n            <RightSidebar />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditProfileAprv;\r\n"],"names":["EditProfileAprv","profileImgUrl","setProfileImgUrl","useState","error","setError","cError","setCError","passVisible","setPassVisible","cPassVisible","setCPassVisible","dispatch","localStorage","getItem","useDispatch","location","useLocation","state","post","setPost","name","password","confirmPassword","profile_Pic","navigate","useNavigate","handleInput","event","target","value","useEffect","passwordRegex","_jsx","_Fragment","children","className","_jsxs","SidebarAprv","src","alt","Link","to","onSubmit","async","_response$data","preventDefault","test","formData","FormData","append","response","updateProfile","_response$data2","_response$data2$resul","_response$data2$resul2","_response$data3","_response$data3$resul","_response$data3$resul2","data","Swal","toast","icon","position","title","showConfirmButton","timerProgressBar","timer","updateProfilePic","results","approver","updateUserName","console","log","htmlFor","style","cursor","display","type","id","accept","onChange","files","selectedFile","imageUrl","URL","createObjectURL","placeholder","defaultValue","onClick","Button","appearance","RightSidebar"],"sourceRoot":""}