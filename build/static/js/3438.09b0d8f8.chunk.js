"use strict";(self.webpackChunkmyot=self.webpackChunkmyot||[]).push([[3438],{23438:(e,a,s)=>{s.r(a),s.d(a,{default:()=>x});var l=s(72791),d=s(39040),t=s(11087),n=s(89542),c=s(58400),i=s(72426),o=s.n(i),m=s(81161),r=s(80184);const x=()=>{var e;const[a,s]=(0,l.useState)(),i=localStorage.getItem("user_id")||localStorage.getItem("myot_admin_id"),[x,h]=(0,l.useState)({categoryName:"",text:"",document:null}),p=e=>{h({...x,[e.target.name]:e.target.value})},u=async()=>{const e=await(0,c.wX)(i);s(e),null===e||void 0===e||e.sort(((e,a)=>new Date(null===a||void 0===a?void 0:a.createdAt)-new Date(null===e||void 0===e?void 0:e.createdAt))),console.log(e)};return(0,l.useEffect)((()=>{u()}),[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"container-fluid",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-2 sidebar",children:(0,r.jsx)(n.Z,{})}),(0,r.jsxs)("div",{className:"col-7 middle-content",children:[(0,r.jsx)("div",{className:"container-fluid border-bottom sticky-top bg-white mb-4",children:(0,r.jsxs)("nav",{className:"row header bg-white  ",children:[(0,r.jsx)("ul",{className:"col align-items-center mt-3",children:(0,r.jsx)("li",{className:"nav-item dropdown-hover d-none d-lg-block",children:(0,r.jsx)("a",{className:"nav-link fw-bold  ms-2",children:"Announcements / Report Management"})})}),(0,r.jsx)("div",{className:"col d-flex align-items-center  justify-content-end",children:(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("img",{src:"/images/dashboard/announcement.png",alt:"",className:"ms-4 "}),(0,r.jsx)(t.rU,{to:"/Approver/Chat",children:(0,r.jsx)("img",{src:"/images/dashboard/chat-left-dots-fill.png",alt:"",className:"ms-4"})}),(0,r.jsx)("img",{src:"/images/dashboard/round-notifications.png",alt:"",className:"ms-4"})]})})]})}),(0,r.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,r.jsx)("p",{className:"table-name mb-2",children:"Broadcast Announcement"}),(0,r.jsxs)("div",{className:"d-flex justify-content-center th-text",children:[(0,r.jsxs)("div",{className:"d-flex whitespace-nowrap",type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:[(0,r.jsx)("img",{src:"/images/tasks/Add.svg",alt:"",className:"pb-3"}),(0,r.jsx)("p",{className:"pt-1 text-nowrap",children:"Add Announcement"})]}),(0,r.jsx)("img",{src:"/images/sidebar/ThreeDots.svg",alt:"",className:"pb-3 ms-2 text-secondary"})]})]}),(0,r.jsx)("div",{class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,r.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-dialog-department",children:(0,r.jsxs)("div",{class:"modal-content border-0",children:[(0,r.jsxs)("div",{class:"d-flex modal-header border-bottom",children:[(0,r.jsx)("p",{class:"",id:"exampleModalLabel",children:"Create New Announcement"}),(0,r.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,r.jsxs)("form",{action:"",onSubmit:async e=>{e.preventDefault();const a=new FormData;a.append("categoryName",x.categoryName),a.append("text",x.text),a.append("document",x.document),a.append("creator_Id",i);await(0,c.ps)(a)&&(h({categoryName:"",document:null,text:""}),u())},children:[(0,r.jsxs)("div",{className:"row p-3",children:[(0,r.jsx)("div",{className:"col-12 mb-3 d-flex",children:(0,r.jsx)("div",{className:"col-12 pe-3",children:(0,r.jsx)("input",{type:"text",placeholder:"Announcement Category",className:"col-12 modal-input td-text  p-2",name:"categoryName",value:x.categoryName,onChange:p})})}),(0,r.jsx)("p",{className:"d-flex",id:"exampleModalLabel",children:"Document Upload"}),(0,r.jsx)("div",{className:"col-12 mb-3 ",children:(0,r.jsx)("input",{type:"file",placeholder:"File Format: JPG, JPEG, PNG or PDF Size: Upto 500KB",className:"col-12 modal-input td-text p-2 display-none",id:"new_img",accept:"image/*",name:"document",onChange:e=>{h({...x,document:e.target.files[0]})}})}),(0,r.jsx)("p",{className:"d-flex",id:"exampleModalLabel",children:"Enter text here"}),(0,r.jsx)("div",{className:"col-12 mb-3 ",children:(0,r.jsx)("textarea",{type:"text",placeholder:"",className:"col-12 modal-input td-text p-2",name:"text",value:x.text,onChange:p})})]}),(0,r.jsxs)("div",{className:"d-flex justify-content-end mb-3",children:[(0,r.jsx)(m.Z,{style:{width:"100px"},type:"submit",appearance:"primary","data-bs-dismiss":"modal",className:"btn mb-3 me-2  rounded-2",disabled:!(null!==x&&void 0!==x&&x.categoryName)||!(null!==x&&void 0!==x&&x.text),children:"Send"}),(0,r.jsx)(m.Z,{style:{width:"100px"},type:"button","data-bs-dismiss":"modal","aria-label":"Close",className:"btn mb-3 me-2 rounded-2",children:"Cancel"})]})]})]})})}),(0,r.jsx)("div",{className:"container bg-body-tertiary rounded mb-3",children:null!==a&&void 0!==a&&a[0]&&(null===a||void 0===a?void 0:a[0].length)>0?null===a||void 0===a||null===(e=a[0])||void 0===e?void 0:e.map((e=>(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("p",{className:"templates-leave mt-3 ms-2 mb-0 ",children:["Announcement ",">"," ",null===e||void 0===e?void 0:e.categoryName]}),(0,r.jsx)("div",{className:"col-12",children:(0,r.jsx)("div",{className:"col rounded bg-white m-3 p-2",children:(0,r.jsxs)("div",{className:"ps-2 pe-3",children:[(0,r.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,r.jsxs)("div",{className:"d-flex",children:[(0,r.jsx)("img",{src:null!==e&&void 0!==e&&e.document?null===e||void 0===e?void 0:e.document:"/images/dashboard/user (2) 1.svg",style:{width:"20px",height:"20px",borderRadius:"50%"},alt:"",className:"me-2"}),(0,r.jsx)("p",{className:"anouncement-text",children:null!==e&&void 0!==e&&e.text?(null===e||void 0===e?void 0:e.text.charAt(0).toUpperCase())+(null===e||void 0===e?void 0:e.text.slice(1).toLowerCase()):""})]}),(0,r.jsx)("p",{className:"announcement-time",children:o()(null===e||void 0===e?void 0:e.createdAt).calendar()})]}),(0,r.jsxs)("div",{className:"d-flex ms-4 mt-2",children:[(0,r.jsx)("img",{src:"/images/dashboard/bookmark 1.svg",alt:"",className:"m-1 "}),(0,r.jsx)("p",{className:"new-feedback",children:"New feedback added"})]})]})})})]},e.id))):(0,r.jsx)("p",{className:"d-flex justify-content-center fs-6 p-2",children:"Yay! No Announcement"})}),(0,r.jsxs)("div",{className:"footer",children:[(0,r.jsx)("div",{children:"\xa9 2023 MYOT"}),(0,r.jsxs)("div",{className:"d-flex ",children:[(0,r.jsx)("p",{className:"ms-3",children:"About"}),(0,r.jsx)("p",{className:"ms-3",children:"Support"}),(0,r.jsx)("p",{className:"ms-3",children:"Contact Us"})]})]})]}),(0,r.jsx)("div",{className:"col",children:(0,r.jsx)(d.Z,{})})]})})})}}}]);
//# sourceMappingURL=3438.09b0d8f8.chunk.js.map