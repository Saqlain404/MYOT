(self.webpackChunkmyot=self.webpackChunkmyot||[]).push([[5014],{5839:(e,a,o)=>{"use strict";o.d(a,{$g:()=>l,AA:()=>f,Jx:()=>u,Tk:()=>g,WZ:()=>v,Z7:()=>p,cA:()=>m,gF:()=>c,qD:()=>d});var r=o(42611),n=o(29655),t=o(2477),s=o(21830),i=o.n(s);async function l(e){try{const{data:i,headers:l}=await r.Z.post("".concat("http://ec2-51-112-25-93.me-central-1.compute.amazonaws.com:2053","/api/company/login"),e);var a,o,t,s;if(null===i||void 0===i||!i.error)return localStorage.setItem("myot_admin_id",null===i||void 0===i||null===(a=i.results)||void 0===a||null===(o=a.employee)||void 0===o?void 0:o._id),await localStorage.removeItem("token-company"),await localStorage.setItem("token-company",l["x-auth-token-company"]),await localStorage.setItem("user_id",null===i||void 0===i||null===(t=i.results)||void 0===t||null===(s=t.employee)||void 0===s?void 0:s._id),{data:i};n.Am.error(i.message)}catch(i){return i.response&&n.Am.error(i.response.data.message),{error:i}}}async function c(e){try{const{data:a}=await r.Z.put("".concat("http://ec2-51-112-25-93.me-central-1.compute.amazonaws.com:2053","/api/company/forgotPassword"),e);if(console.log(a),a.error?n.Am.error(a.message):await localStorage.removeItem("token-admin"),!a.error)return{data:a}}catch(a){return a.response&&n.Am.error(a.response.data.message),{error:a}}}async function d(e){try{const{data:a}=await r.Z.put("".concat("http://ec2-51-112-25-93.me-central-1.compute.amazonaws.com:2053","/api/company/verifyOTP"),e);if(console.log(a),a.error?n.Am.error(a.message):n.Am.success(a.message),!a.error)return{data:a}}catch(a){return a.response&&n.Am.error(a.response.data.message),{error:a}}}async function m(e){try{const{data:a}=await r.Z.put("".concat("http://ec2-51-112-25-93.me-central-1.compute.amazonaws.com:2053","/api/company/updatePassword"),e);if(console.log(a),a.error?n.Am.error(a.message):n.Am.success(a.message),!a.error)return{data:a}}catch(a){return a.response&&n.Am.error(a.response.data.message),{error:a}}}async function u(e){try{const{data:a}=await r.Z.post("".concat("http://ec2-51-112-25-93.me-central-1.compute.amazonaws.com:2053","/api/company/signup  "),e);return null!==a&&void 0!==a&&a.error?(i().fire({toast:!0,icon:"error",position:"top-end",title:null===a||void 0===a?void 0:a.message,showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),{data:a}):{data:a}}catch(a){return a.response&&i().fire({toast:!0,icon:"error",position:"top-end",title:a.response.data.message,showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),{error:a}}}async function p(e){try{const{data:a,headers:o}=await t.Z.post("".concat("http://ec2-51-112-25-93.me-central-1.compute.amazonaws.com:2053","/api/admin/login"),e);return console.log("login Data",a),a.error?(n.Am.error(a.message),{data:a}):(await localStorage.removeItem("token-main-admin"),await localStorage.setItem("token-main-admin",o["x-auth-token-admin"]),{data:a})}catch(a){return a.response&&n.Am.error(a.response.data.message),{error:a}}}async function v(e){try{const{data:a}=await t.Z.post("".concat("http://ec2-51-112-25-93.me-central-1.compute.amazonaws.com:2053","/api/admin/forgotPassword"),e);if(console.log(a),a.error?n.Am.error(a.message):await localStorage.removeItem("token-main-admin"),!a.error)return{data:a}}catch(a){return a.response&&n.Am.error(a.response.data.message),{error:a}}}async function g(e){try{const{data:a}=await t.Z.post("".concat("http://ec2-51-112-25-93.me-central-1.compute.amazonaws.com:2053","/api/admin/verifyOTP"),e);if(console.log(a),a.error&&n.Am.error(a.message),!a.error)return{data:a}}catch(a){return a.response&&n.Am.error(a.response.data.message),{error:a}}}async function f(e){try{const{data:a}=await t.Z.post("".concat("http://ec2-51-112-25-93.me-central-1.compute.amazonaws.com:2053","/api/admin/updatePassword"),e);if(console.log(a),a.error&&n.Am.error(a.message),!a.error)return{data:a}}catch(a){return a.response&&n.Am.error(a.response.data.message),{error:a}}}},80096:(e,a,o)=>{"use strict";o.r(a),o.d(a,{default:()=>y});var r=o(72791),n=o(11087),t=o(61134),s=o(57689),i=o(5839),l=o(59434),c=o(64581),d=o(21830),m=o.n(d),u=o(41418),p=o.n(u),v=o(42994),g=o(81161),f=o(11632),h=o(9806),x=o(80184);const y=()=>{var e;const[a,o]=(0,r.useState)("password"),[d,u]=(0,r.useState)(""),[y,w]=(0,r.useState)(!1),[b,k]=(0,r.useState)(!1),[C,N]=(0,r.useState)(!1),j=(0,l.I0)(),{register:A,handleSubmit:S,formState:{errors:Z,isValid:P}}=(0,t.cI)({mode:"onChange"}),I=(0,s.s0)();(0,r.useEffect)((()=>{localStorage.getItem("token-admin")||I("/Login")}),[]);let _=JSON.parse(localStorage.getItem("myot_login_save"));return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{className:"container-fluid login-bg",children:(0,x.jsxs)("div",{className:"row flex-nowrap",children:[(0,x.jsxs)("div",{className:"col-4 login-form p-4",children:[(0,x.jsxs)("div",{className:"form-login mt-3",children:[(0,x.jsx)("img",{src:"/images/Myot-logo.png",className:"logo"}),(0,x.jsx)("h2",{className:"mb-3 fs-7 fw-bolder myot",children:"Myot"}),(0,x.jsx)("p",{className:"login-desc m-0 p-0",children:"Please fill your detail to access your account."})]}),(0,x.jsxs)("form",{className:"form-login",onSubmit:S((async e=>{var a;console.log(e),console.log(y),N(!0),y&&(e=>{localStorage.setItem("myot_login_save",JSON.stringify(e))})(e);const o=await(0,i.$g)(e);if(console.log("login Data",o),null===o||void 0===o||!o.data||null!==o&&void 0!==o&&null!==(a=o.data)&&void 0!==a&&a.error)N(!1);else{var r,n,t,s,l;N(!1),m().fire({toast:!0,icon:"success",position:"top-end",title:"Login successfull",showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),j((0,c.M)(null===o||void 0===o||null===(r=o.data)||void 0===r||null===(n=r.results)||void 0===n?void 0:n.employee));let e=await(null===o||void 0===o||null===(t=o.data)||void 0===t||null===(s=t.results)||void 0===s||null===(l=s.employee)||void 0===l?void 0:l.employRole[0]);e.includes("Admin")?I("/Admin/Home"):I("Department Manager"===e?"/Department/Home":"/".concat(e,"/Home"))}setTimeout((()=>{N(!1)}),[6e3])})),children:[(0,x.jsxs)("div",{className:"input_icon_container mb-3 ",children:[(0,x.jsx)("div",{className:null!==Z&&void 0!==Z&&Z.email?"text-danger input_icons":"input_icons",children:(0,x.jsx)(h.G,{icon:f.FU$})}),(0,x.jsx)("label",{for:"",className:"form-label",children:"Email Address"}),(0,x.jsx)("input",{type:"email",className:p()("form-control",{"is-invalid":Z.email}),id:"email",name:"email","aria-describedby":"emailHelp",placeholder:"example@gmail.com",autoComplete:"off",defaultValue:null===_||void 0===_?void 0:_.email,...A("email",{required:"This field is required",pattern:{value:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"Invalid email address"}})}),(null===Z||void 0===Z?void 0:Z.email)&&(0,x.jsx)("small",{className:"errorText mt-1",children:Z.email.message})]}),(0,x.jsxs)("div",{className:"input_icon_container mb-3 ",children:[(0,x.jsx)("div",{className:null!==Z&&void 0!==Z&&Z.password?"text-danger input_icons":"input_icons",children:(0,x.jsx)(h.G,{icon:f.byT})}),(0,x.jsx)("label",{for:"",className:"form-label",children:"Password"}),(0,x.jsx)("input",{type:b?"text":"password",className:p()("form-control",{"is-invalid":Z.password}),name:"password",placeholder:"********",id:"password",autoComplete:"off",defaultValue:null===_||void 0===_?void 0:_.password,...A("password",{required:"* Please Enter Your Password",pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"* Minimun 8 characters, One Uppercase, One Lowercase & One Special Character Allowed"}})}),(0,x.jsx)("div",{className:"eye_container",onClick:()=>k(!b),children:b?(0,x.jsx)("img",{className:"eye_icon",src:"/images/icons/view.png",alt:""}):(0,x.jsx)("img",{className:"eye_icon",src:"/images/icons/hide.png",alt:""})}),Z.password&&(0,x.jsx)("small",{className:"errorText ",children:null===(e=Z.password)||void 0===e?void 0:e.message})]}),(0,x.jsx)("div",{className:"d-flex justify-content-between mb-4 remember",children:(0,x.jsx)("div",{className:"",children:(0,x.jsxs)(v.Z,{onChange:()=>w(!y),children:[" ","Remember Me"]})})}),(0,x.jsx)(g.Z,{loading:C,appearance:"primary",className:"btn py-8 mb-3  rounded-2",type:"submit",disabled:!P,children:"SIGN IN"}),(0,x.jsx)("div",{className:"text-center",children:(0,x.jsx)(n.rU,{className:"text-decoration-none fw-bold  reset-password  mt-2",to:"/Forgot-password",children:"Forgot Password?"})}),(0,x.jsxs)("div",{className:"form-check-label text-dark remember-me mb-4 text-center mt-2",children:["New to Myot? Create an account",(0,x.jsx)(n.rU,{className:" fw-medium reset-password ms-2 fw-bold",to:"/Admin/Signup",children:"Sign Up"})]})]})]}),(0,x.jsx)("div",{className:"col-8 m-auto d-flex justify-content-center align-items-center",children:(0,x.jsx)("img",{src:"/images/Login.png",alt:"",className:" text-center d-block img-fluid p-inherit"})})]})})})}},87927:(e,a,o)=>{var r=o(15358),n=o(67056)(r);e.exports=n},85099:(e,a,o)=>{var r=o(30372)();e.exports=r},15358:(e,a,o)=>{var r=o(85099),n=o(12742);e.exports=function(e,a){return e&&r(e,a,n)}},28019:(e,a,o)=>{var r=o(68950);e.exports=function(e,a){return r(a,(function(a){return e[a]}))}},43410:(e,a,o)=>{var r=o(2100);e.exports=function(e){return"function"==typeof e?e:r}},67056:(e,a,o)=>{var r=o(21473);e.exports=function(e,a){return function(o,n){if(null==o)return o;if(!r(o))return e(o,n);for(var t=o.length,s=a?t:-1,i=Object(o);(a?s--:++s<t)&&!1!==n(i[s],s,i););return o}}},30372:e=>{e.exports=function(e){return function(a,o,r){for(var n=-1,t=Object(a),s=r(a),i=s.length;i--;){var l=s[e?i:++n];if(!1===o(t[l],l,t))break}return a}}},36514:(e,a,o)=>{var r=o(4550),n=o(87927),t=o(43410),s=o(93629);e.exports=function(e,a){return(s(e)?r:n)(e,t(a))}},40806:(e,a,o)=>{var r=o(24842),n=o(21473),t=o(26769),s=o(39753),i=o(92063),l=Math.max;e.exports=function(e,a,o,c){e=n(e)?e:i(e),o=o&&!c?s(o):0;var d=e.length;return o<0&&(o=l(d+o,0)),t(e)?o<=d&&e.indexOf(a,o)>-1:!!d&&r(e,a,o)>-1}},26769:(e,a,o)=>{var r=o(39066),n=o(93629),t=o(43141);e.exports=function(e){return"string"==typeof e||!n(e)&&t(e)&&"[object String]"==r(e)}},92063:(e,a,o)=>{var r=o(28019),n=o(12742);e.exports=function(e){return null==e?[]:r(e,n(e))}},42994:(e,a,o)=>{"use strict";o.d(a,{Z:()=>C});var r=o(81880),n=o(87462),t=o(63366),s=o(72791),i=o(15422),l=o.n(i);const c=function(e,a){var o=(0,s.useRef)(!1);o.current=void 0!==e;var r=(0,s.useState)(a),n=r[0],t=r[1];return[o.current?e:n,(0,s.useCallback)((function(e){o.current||t(e)}),[o]),o.current]};var d=o(29112),m=o(36514),u=o.n(m),p=o(40806),v=o.n(p),g=[].concat(["selected","defaultValue","defaultChecked","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","form","id","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","type","value"],["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"]),f=function(e,a){void 0===a&&(a={});var o=a,r=o.htmlProps,n=void 0===r?g:r,t=o.includeAria,s=void 0===t||t,i={},l={};return u()(e,(function(e,a){var o=s&&(/^aria-.*$/.test(a)||"role"===a);(v()(n,a)||o?i:l)[a]=e})),[i,l]};var h,x,y,w=l().oneOfType([l().func,l().any]),b=s.createContext(void 0),k=s.forwardRef((function(e,a){var o=(0,s.useContext)(b),i=null!==o&&void 0!==o?o:{},l=i.inline,m=i.name,u=i.disabled,p=i.readOnly,v=i.plaintext,g=i.onChange,w=e.as,k=void 0===w?"div":w,C=e.checked,N=e.className,j=e.children,A=e.classPrefix,S=void 0===A?"checkbox":A,Z=e.checkable,P=void 0===Z||Z,I=e.defaultChecked,_=void 0!==I&&I,M=e.title,O=e.inputRef,D=e.inputProps,E=e.indeterminate,T=e.tabIndex,z=void 0===T?0:T,L=e.disabled,$=void 0===L?u:L,B=e.readOnly,F=void 0===B?p:B,R=e.plaintext,U=void 0===R?v:R,q=e.inline,H=void 0===q?l:q,V=e.name,G=void 0===V?m:V,J=e.value,K=e.onClick,W=e.onCheckboxClick,Y=e.onChange,Q=(0,t.Z)(e,["as","checked","className","children","classPrefix","checkable","defaultChecked","title","inputRef","inputProps","indeterminate","tabIndex","disabled","readOnly","plaintext","inline","name","value","onClick","onCheckboxClick","onChange"]),X=c(C,_),ee=X[0],ae=X[1],oe=X[2],re=(0,s.useMemo)((function(){var e,a;return o?null!==(e=null===(a=o.value)||void 0===a?void 0:a.some((function(e){return e===J})))&&void 0!==e&&e:ee}),[o,ee,J]),ne=(0,d.Z)(S),te=ne.merge,se=ne.prefix,ie=te(N,(0,ne.withClassPrefix)({inline:H,indeterminate:E,disabled:$,checked:re})),le=f(Q),ce=le[0],de=le[1],me=!!o||oe;"undefined"!==typeof me&&(ce[me?"checked":"defaultChecked"]=re);var ue=(0,s.useCallback)((function(e){var a=e.target.checked;$||F||(ae(a),null===Y||void 0===Y||Y(J,a,e),null===g||void 0===g||g(J,a,e))}),[$,F,ae,Y,J,g]);if(U)return re?s.createElement(k,(0,n.Z)({},de,{ref:a,className:ie}),j):null;var pe=s.createElement("span",{className:se(h||(h=(0,r.Z)(["wrapper"]))),onClick:W,"aria-disabled":$},s.createElement("input",(0,n.Z)({},ce,D,{name:G,value:J,type:"checkbox",ref:O,tabIndex:z,readOnly:F,disabled:$,"aria-disabled":$,"aria-checked":E?"mixed":re,onClick:function(e){return e.stopPropagation()},onChange:ue})),s.createElement("span",{className:se(x||(x=(0,r.Z)(["inner"]))),"aria-hidden":!0,role:"presentation"}));return s.createElement(k,(0,n.Z)({},de,{ref:a,onClick:K,className:ie}),s.createElement("div",{className:se(y||(y=(0,r.Z)(["checker"])))},s.createElement("label",{title:M},P?pe:null,j)))}));k.displayName="Checkbox",k.propTypes={as:l().elementType,title:l().string,className:l().string,inline:l().bool,disabled:l().bool,checked:l().bool,defaultChecked:l().bool,indeterminate:l().bool,onChange:l().func,onClick:l().func,inputProps:l().any,inputRef:w,value:l().any,children:l().node,classPrefix:l().string,tabIndex:l().number,checkable:l().bool,onCheckboxClick:l().func};const C=k}}]);
//# sourceMappingURL=5014.5850c686.chunk.js.map