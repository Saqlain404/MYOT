"use strict";(self.webpackChunkmyot=self.webpackChunkmyot||[]).push([[878,4044],{74044:(e,s,a)=>{a.r(s),a.d(s,{default:()=>f});var l=a(72791),i=a(39040),n=(a(54347),a(57689)),c=a(11087),t=a(23773),d=a(78709),o=(a(29655),a(21830)),r=a.n(o),m=a(59434),p=a(64581),x=a(81161),h=a(80184);const f=()=>{const[e,s]=(0,l.useState)("password"),[a,o]=(0,l.useState)(""),[f,j]=(0,l.useState)({}),[u,v]=(0,l.useState)(null),[N,g]=(0,l.useState)(),[y,w]=(0,l.useState)(),[b,P]=(0,l.useState)(),[_,C]=(0,l.useState)(!1),[k,E]=(0,l.useState)(!1),[S,F]=(0,l.useState)({name:"",password:"",confirmPassword:"",profile_Pic:null}),U=(0,m.I0)(),I=(0,n.TH)(),{state:Z}=I,A=(0,n.s0)(),T=e=>{F({...S,[e.target.name]:e.target.value}),g("")};(0,l.useEffect)((()=>{localStorage.getItem("token-company")||A("/Employee/edit-profile")}),[]);const D=/^(?=.*[A-Z])(?=.*[!@#$%^&*])(?=.{8,})/;return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{className:"container-fluid",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-2 sidebar",children:(0,h.jsx)(t.Z,{})}),(0,h.jsxs)("div",{className:"col-7 middle-content p-0 min-vh-100",children:[(0,h.jsx)("div",{className:"container-fluid  sticky-top bg-white mb-4",children:(0,h.jsxs)("nav",{className:"row header bg-white  ",children:[(0,h.jsx)("ul",{className:"col align-items-center mt-3",children:(0,h.jsx)("li",{className:"nav-item dropdown-hover d-none d-lg-block",children:(0,h.jsx)("a",{className:"nav-link fw-bold ms-2",href:"/Employee/profile",children:"My Profile / Edit"})})}),(0,h.jsx)("div",{className:"col-7 d-flex align-items-center  justify-content-end",children:(0,h.jsxs)("div",{className:"",children:[(0,h.jsx)("img",{src:"/images/dashboard/announcement.png",alt:"",className:"ms-4 "}),(0,h.jsx)(c.rU,{to:"/Employee/Chat",children:(0,h.jsx)("img",{src:"/images/dashboard/chat-left-dots-fill.png",alt:"",className:"ms-4"})}),(0,h.jsx)("img",{src:"/images/dashboard/round-notifications.png",alt:"",className:"ms-4"})]})})]})}),(0,h.jsx)("div",{className:"container px-4 text-center min-vh-100 ",children:(0,h.jsxs)("div",{className:"row rounded",children:[(0,h.jsx)("div",{className:" d-flex justify-content-between",children:(0,h.jsx)("p",{className:"profile-txt m-2",children:"Your Profile Picture"})}),(0,h.jsxs)("form",{className:"row",onSubmit:async e=>{var s;if(e.preventDefault(),S.password&&!D.test(S.password))return g("Password must be at least 8 characters long, contain one uppercase letter, and one special character"),!1;S.confirmPassword!==S.password&&w("Passwords do not match");const a=new FormData;a.append("name",S.name),a.append("password",S.password),a.append("confirmPassword",S.confirmPassword),a.append("profile_Pic",S.profile_Pic);const l=await(0,d.ck)(a);var i,n,c,t,o,m;(console.log(l),null!==(s=l.data)&&void 0!==s&&s.error)||(A("/Employee/profile"),r().fire({toast:!0,icon:"success",position:"top-end",title:"Profile Updated",showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),U((0,p.Ax)(null===l||void 0===l||null===(i=l.data)||void 0===i||null===(n=i.results)||void 0===n||null===(c=n.employee)||void 0===c?void 0:c.profile_Pic)),U((0,p.WY)(null===l||void 0===l||null===(t=l.data)||void 0===t||null===(o=t.results)||void 0===o||null===(m=o.employee)||void 0===m?void 0:m.name)),console.log(l))},children:[(0,h.jsxs)("div",{className:" d-flex flex-column align-items-start mb-4",children:[(0,h.jsx)("label",{htmlFor:"new_img",children:(0,h.jsx)("img",{src:b||(null===Z||void 0===Z?void 0:Z.profile_Pic),alt:"",className:"w_100_h_100",style:{cursor:"pointer"}})}),(0,h.jsx)("input",{className:"file-upload",style:{display:"none"},type:"file",id:"new_img",accept:"image/*",name:"profile_Pic",onChange:e=>{F({...S,profile_Pic:e.target.files[0]});const s=e.target.files[0],a=URL.createObjectURL(s);P(a)}})]}),(0,h.jsxs)("div",{className:"col-12 m-2",children:[(0,h.jsx)("p",{className:" d-flex justify-content-start profile-card-title",children:"Full Name"}),(0,h.jsx)("input",{type:"text",placeholder:"Full Name",className:"col-12 profile-edit-input p-2 text-capitalize",name:"name",defaultValue:null===Z||void 0===Z?void 0:Z.name,onChange:T})]}),(0,h.jsxs)("div",{className:"col-12 d-flex justify-content-between mt-3 ",children:[(0,h.jsxs)("div",{className:"col-6 m-2 position-relative",children:[(0,h.jsx)("p",{className:" d-flex justify-content-start profile-card-title",children:"Password"}),(0,h.jsx)("input",{type:_?"text":"password",autoComplete:"false",value:S.password,placeholder:"Password",className:"col-12 profile-edit-input p-2",name:"password",onChange:T}),N&&(0,h.jsx)("p",{className:"errorText",children:N}),(0,h.jsx)("div",{className:"eye_container eye_container2  pt-1",onClick:()=>C(!_),children:_?(0,h.jsx)("img",{className:"eye_icon",src:"/images/icons/view.png",alt:""}):(0,h.jsx)("img",{className:"eye_icon",src:"/images/icons/hide.png",alt:""})})]}),(0,h.jsxs)("div",{className:"col-6 m-2 position-relative",children:[(0,h.jsx)("p",{className:" d-flex justify-content-start profile-card-title",children:"Confirm Password"}),(0,h.jsx)("input",{type:k?"text":"password",value:S.confirmPassword,placeholder:"Confirm Password",className:"col-12 profile-edit-input p-2",name:"confirmPassword",onChange:T}),y&&(0,h.jsx)("p",{className:"d-flex errorText ms-2 justify-content-start",children:y}),(0,h.jsx)("div",{className:"eye_container eye_container2 pt-1",onClick:()=>E(!k),children:k?(0,h.jsx)("img",{className:"eye_icon",src:"/images/icons/view.png",alt:""}):(0,h.jsx)("img",{className:"eye_icon",src:"/images/icons/hide.png",alt:""})})]})]}),(0,h.jsx)("div",{className:" text-end ms-4 mt-1 ",children:(0,h.jsx)(x.Z,{appearance:"primary",className:"profile-edit-submit btn  rounded-2 m-0",type:"submit",children:"Update Profile"})})]})]})})]}),(0,h.jsx)("div",{className:"col",children:(0,h.jsx)(i.Z,{})})]})})})}},60878:(e,s,a)=>{a.r(s),a.d(s,{default:()=>p});var l=a(72791),i=a(39040),n=a(11087),c=a(23773),t=a(78709),d=(a(74044),a(72426)),o=a.n(d),r=a(81161),m=a(80184);const p=()=>{var e,s,a,d;const[p,x]=(0,l.useState)(null);return(0,l.useEffect)((()=>{(async()=>{var e,s;const a=await(0,t.Fc)(),l=null===a||void 0===a||null===(e=a[0])||void 0===e||null===(s=e.results)||void 0===s?void 0:s.employee;x(l)})()}),[]),console.log(p),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"container-fluid",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-2 sidebar",children:(0,m.jsx)(c.Z,{})}),(0,m.jsxs)("div",{className:"col-7 middle-content bg-body-tertiary p-0 min-vh-100",children:[(0,m.jsx)("div",{className:"container-fluid border-bottom sticky-top bg-white mb-4",children:(0,m.jsxs)("nav",{className:"row header bg-white  ",children:[(0,m.jsx)("ul",{className:"col align-items-center mt-3",children:(0,m.jsx)("li",{className:"nav-item dropdown-hover d-none d-lg-block",children:(0,m.jsx)("a",{className:"nav-link fw-bold ms-2",children:"My Profile / View"})})}),(0,m.jsx)("div",{className:"col-7 d-flex align-items-center  justify-content-end",children:(0,m.jsxs)("div",{className:"",children:[(0,m.jsx)("img",{src:"/images/dashboard/announcement.png",alt:"",className:"ms-4 "}),(0,m.jsx)(n.rU,{to:"/Employee/Chat",children:(0,m.jsx)("img",{src:"/images/dashboard/chat-left-dots-fill.png",alt:"",className:"ms-4"})}),(0,m.jsx)("img",{src:"/images/dashboard/round-notifications.png",alt:"",className:"ms-4"})]})})]})}),(0,m.jsx)("div",{className:"container px-4 text-center min-vh-100 ",children:(0,m.jsxs)("div",{className:"row rounded",children:[(0,m.jsxs)("div",{className:" d-flex justify-content-between",children:[(0,m.jsx)("p",{className:"profile-txt m-2",children:"Profile"}),(0,m.jsx)(n.rU,{to:"/Employee/Edit-profile",state:p,className:"text-decoration-none",children:(0,m.jsx)(r.Z,{className:"btn me-2  rounded-2",appearance:"primary",children:"Edit"})})]}),(0,m.jsx)("div",{className:" d-flex justify-content-start mb-4",children:(0,m.jsx)("img",{className:"w_100_h_100",src:null!==p&&void 0!==p&&p.profile_Pic?null===p||void 0===p?void 0:p.profile_Pic:"/images/icons/EmilyWhite.png",alt:"profile_image"})}),(0,m.jsxs)("div",{className:"bg-white rounded mb-4 p-4 pb-2",children:[(0,m.jsx)("p",{className:" d-flex justify-content-start profile-card-title mb-1",children:"Details"}),(0,m.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"profile-info",children:"Full Name"}),(0,m.jsx)("p",{className:"profile-data text-capitalize",children:null===p||void 0===p?void 0:p.name})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"profile-info",children:"Email"}),(0,m.jsx)("p",{className:"profile-data",children:null===p||void 0===p?void 0:p.email})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"profile-info",children:"Phone Number"}),(0,m.jsx)("p",{className:"profile-data",children:null===p||void 0===p?void 0:p.mobileNumber})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"profile-info",children:"Date of Creation"}),(0,m.jsx)("p",{className:"profile-data",children:o()(null===p||void 0===p?void 0:p.CreatedAT).format("L")})]})]})]}),(0,m.jsxs)("div",{className:"bg-white rounded mb-4 p-4 pb-2",children:[(0,m.jsx)("p",{className:" d-flex justify-content-start profile-card-title mb-1",children:"Company Information"}),(0,m.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"profile-info",children:"Company Name"}),(0,m.jsx)("p",{className:"profile-data",children:null===p||void 0===p||null===(e=p.company_Id)||void 0===e?void 0:e.name})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"profile-info",children:"Company Email"}),(0,m.jsx)("p",{className:"profile-data",children:null===p||void 0===p||null===(s=p.company_Id)||void 0===s?void 0:s.email})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"profile-info",children:"Phone Number"}),(0,m.jsx)("p",{className:"profile-data",children:null===p||void 0===p||null===(a=p.company_Id)||void 0===a?void 0:a.phone_number})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"profile-info",children:"Address"}),(0,m.jsx)("p",{className:"profile-data",children:null===p||void 0===p||null===(d=p.company_Id)||void 0===d?void 0:d.address})]})]})]})]})}),(0,m.jsxs)("div",{className:"footer bg-white",children:[(0,m.jsx)("div",{children:"\xa9 2023 MYOT"}),(0,m.jsxs)("div",{className:"d-flex ",children:[(0,m.jsx)("p",{className:"ms-3",children:"About"}),(0,m.jsx)("p",{className:"ms-3",children:"Support"}),(0,m.jsx)("p",{className:"ms-3",children:"Contact Us"})]})]})]}),(0,m.jsx)("div",{className:"col",children:(0,m.jsx)(i.Z,{})})]})})})}}}]);
//# sourceMappingURL=878.9b0d2fa8.chunk.js.map