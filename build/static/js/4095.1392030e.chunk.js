"use strict";(self.webpackChunkmyot=self.webpackChunkmyot||[]).push([[4095],{44095:(e,a,s)=>{s.r(a),s.d(a,{default:()=>h});var t=s(72791),l=s(54347),i=s(11087),d=s(28113),c=(s(29655),s(72426)),n=s.n(c),r=s(81161),o=s(21830),m=s.n(o),x=s(80184);const h=()=>{var e,a;const[s,c]=(0,t.useState)(""),[o,h]=(0,t.useState)(""),[v,b]=(0,t.useState)(""),[p,u]=(0,t.useState)(),[j,g]=(0,t.useState)(),[N,k]=(0,t.useState)(!1),[f,y]=(0,t.useState)([]),[w,T]=(0,t.useState)(null),[C,S]=(0,t.useState)(null),[_,A]=(0,t.useState)("");(0,t.useEffect)((()=>{W()}),[]);const[I,M]=(0,t.useState)(!1),[O,L]=(0,t.useState)("This Month"),B=e=>{L(e),M(!1),U(e)},W=async()=>{let e=localStorage.getItem("myot_admin_id");u(e);let{data:a}=await(0,d.ye)(e);var s;(console.log(a),null!==a&&void 0!==a&&a.error)||g(null===a||void 0===a||null===(s=a.results)||void 0===s?void 0:s.ticketList)},[P,H]=(0,t.useState)([]),U=e=>{const a=n()();let s=[];if(j){switch(e){case"This Week":s=j.filter((e=>n()(e.createdAt).isSameOrAfter(a.clone().startOf("week"))&&n()(e.createdAt).isSameOrBefore(a.clone().endOf("week"))));break;case"This Month":s=j.filter((e=>n()(e.createdAt).isSameOrAfter(a.clone().startOf("month"))&&n()(e.createdAt).isSameOrBefore(a.clone().endOf("month"))));break;case"This Year":s=j.filter((e=>n()(e.createdAt).isSameOrAfter(a.clone().startOf("year"))&&n()(e.createdAt).isSameOrBefore(a.clone().endOf("year"))));break;default:s=j}s=s.filter((e=>e.ticketType.toLowerCase().includes(_.toLowerCase())))}H(s)};(0,t.useEffect)((()=>{U(O)}),[O,j,_]);return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{className:"container-fluid",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-2 sidebar",children:(0,x.jsx)(l.Z,{})}),(0,x.jsxs)("div",{className:"col middle-content bg-body-tertiary p-0 min-vh-100",children:[(0,x.jsx)("div",{className:"container-fluid border-bottom sticky-top bg-white mb-4",children:(0,x.jsxs)("nav",{className:"row header bg-white  ",children:[(0,x.jsx)("ul",{className:"col align-items-center mt-3",children:(0,x.jsx)("li",{className:"nav-item dropdown-hover d-none d-lg-block",children:(0,x.jsx)("a",{className:"nav-link fw-bold",children:" Help / Help & Support"})})}),(0,x.jsxs)("div",{className:"col d-flex align-items-center  justify-content-end",children:[(0,x.jsx)("form",{className:"",role:"search",children:(0,x.jsx)("input",{className:"form-control search-bar",type:"search",placeholder:"Search","aria-label":"Search",value:_,onChange:e=>{A(e.target.value)}})}),(0,x.jsxs)("div",{className:"",children:[(0,x.jsx)("img",{src:"/images/dashboard/announcement.png",alt:"",className:"ms-4 "}),(0,x.jsx)(i.rU,{to:"/Admin/Chat",children:(0,x.jsx)("img",{src:"/images/dashboard/chat-left-dots-fill.png",alt:"",className:"ms-4"})}),(0,x.jsx)("img",{src:"/images/dashboard/round-notifications.png",alt:"",className:"ms-4"})]})]})]})}),(0,x.jsx)("div",{className:"container px-4 text-center min-vh-100 ",children:(0,x.jsxs)("div",{className:"row bg-white rounded  p-4 m-4",children:[(0,x.jsxs)("div",{className:"col-12 d-flex justify-content-between",children:[(0,x.jsxs)("div",{className:"d-flex mt-2",children:[(0,x.jsx)(i.rU,{to:"/Admin/Help",className:"text-decoration-none",children:(0,x.jsx)("p",{className:"th-text  me-3",children:"Template Guidelines"})}),(0,x.jsx)(i.rU,{to:"/Admin/Help/Help-Support",className:"text-decoration-none",children:(0,x.jsx)("p",{className:"td-text border-bottom me-3",children:"Help & Support"})}),(0,x.jsx)(i.rU,{to:"/Admin/Help/Contact-us",className:"text-decoration-none",children:(0,x.jsx)("p",{className:"th-text",children:"Contact Us"})})]}),(0,x.jsxs)("div",{className:"d-flex",children:[(0,x.jsx)("div",{class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,x.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-dialog-department",children:(0,x.jsxs)("div",{class:"modal-content border-0",children:[(0,x.jsxs)("div",{class:"d-flex modal-header border-bottom",children:[(0,x.jsx)("p",{class:"mb-0",id:"exampleModalLabel",children:"Create New Ticket"}),(0,x.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"closeTicketModal"})]}),(0,x.jsxs)("form",{action:"",onSubmit:async e=>{e.preventDefault(),k(!0);let a=localStorage.getItem("myot_admin_id"),s=new FormData;s.append("ticketType",o),s.append("ticketIssue",v),s.append("creator_Id",a),s.append("document",null===f||void 0===f?void 0:f.attachment);let{data:t}=await(0,d.lM)(s);null!==t&&void 0!==t&&t.error||(m().fire({toast:!0,icon:"success",position:"top-end",title:null===t||void 0===t?void 0:t.message,showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),k(!1),h(""),y([]),b(""),document.getElementById("resetForm").click(),document.getElementById("closeTicketModal").click(),W())},children:[(0,x.jsxs)("div",{className:"row p-3",children:[(0,x.jsx)("div",{className:"col-12 mb-3 d-flex",children:(0,x.jsxs)("div",{className:"col-12",children:[(0,x.jsx)("p",{className:"pb-2 text-start",id:"exampleModalLabel",children:"Title"}),(0,x.jsx)("input",{type:"text",placeholder:"Title *",className:"col-12 modal-input td-text w-100 p-2",name:"request type",value:o,onChange:e=>h(e.target.value)})]})}),(0,x.jsx)("p",{className:"pb-2 text-start",id:"exampleModalLabel",children:"Description"}),(0,x.jsx)("div",{className:"col-12 mb-3",children:(0,x.jsx)("textarea",{style:{minHeight:"100px"},type:"text",placeholder:"Type ticket issue here...",className:"col-12 modal-input td-text p-2",name:"message",value:v,onChange:e=>b(e.target.value)})}),(0,x.jsx)("div",{className:"col-12 mb-3",children:(0,x.jsx)("input",{type:"file",className:"col-12 modal-input td-text p-2",name:"attachment",accept:".pdf, .png, .jpg, .jpeg",defaultValue:"",onChange:e=>(async(e,a)=>{y({...f,[a]:e.target.files[0]})})(e,"attachment")})})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-end mb-3",children:[(0,x.jsx)(r.Z,{style:{width:"100px"},loading:N,appearance:"primary",className:"btn mb-3 me-2 rounded-2",type:"submit",disabled:!o||!v,children:"Send"}),(0,x.jsx)(r.Z,{style:{width:"100px"},className:"btn mb-3 me-2 rounded-2",type:"reset","data-bs-dismiss":"modal","aria-label":"Close",children:"Cancel"}),(0,x.jsx)("button",{type:"reset",id:"resetForm",class:"d-none",children:"reset"})]})]})]})})}),(0,x.jsxs)("div",{className:"ms-auto",children:[" ",(0,x.jsx)(i.rU,{className:"text-decoration-none",children:(0,x.jsxs)("button",{className:"help-support-btn1 me-2",onClick:()=>{M(!I)},children:[O,(0,x.jsx)("img",{src:"/images/dashboard/DownArrowBtn.svg",alt:""})]})}),I&&(0,x.jsxs)("div",{className:"dropdown-content",children:[(0,x.jsx)("div",{onClick:()=>B("This Week"),children:"This Week"}),(0,x.jsx)("div",{onClick:()=>B("This Month"),children:"This Month"}),(0,x.jsx)("div",{onClick:()=>B("This Year"),children:"This Year"})]})]}),(0,x.jsx)(i.rU,{className:"text-decoration-none","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:(0,x.jsx)("button",{className:"help-support-btn",children:"New Ticket"})})]})]}),(0,x.jsx)("p",{className:"help-support-heading",children:"Get in Touch"}),(0,x.jsx)("p",{className:"help-support-text",children:"Please get in touch and we will be happy to help you. Create New tickets"}),(0,x.jsxs)("div",{className:"tickets",children:[(0,x.jsxs)("ul",{className:"nav nav-tabs mb-5",id:"ex1",role:"tablist",children:[(0,x.jsx)("li",{className:"nav-item",role:"presentation",children:(0,x.jsx)("a",{class:"nav-link active",id:"ex1-tab-1","data-bs-toggle":"tab",href:"#ex1-tabs-1",role:"tab","aria-controls":"ex1-tabs-1","aria-selected":"true",onClick:W,children:"All Tickets"})}),(0,x.jsx)("li",{className:"nav-item",role:"presentation",children:(0,x.jsx)("a",{className:"nav-link",id:"ex1-tab-2","data-bs-toggle":"tab",href:"#ex1-tabs-2",role:"tab","aria-controls":"ex1-tabs-2","aria-selected":"false",onClick:async()=>{let{data:e}=await(0,d.UF)();var a;(console.log(e),null!==e&&void 0!==e&&e.error)||(g(null===e||void 0===e||null===(a=e.results)||void 0===a?void 0:a.ticketList),console.log(null===e||void 0===e?void 0:e.results))},children:"New Tickets"})}),(0,x.jsx)("li",{className:"nav-item",role:"presentation",children:(0,x.jsx)("a",{className:"nav-link",id:"ex1-tab-3","data-bs-toggle":"tab",href:"#ex1-tabs-3",role:"tab","aria-controls":"ex1-tabs-3","aria-selected":"false",onClick:async()=>{let{data:e}=await(0,d.x6)();var a;null!==e&&void 0!==e&&e.error||g(null===e||void 0===e||null===(a=e.results)||void 0===a?void 0:a.ticketList)},children:"Ongoing Tickets"})}),(0,x.jsx)("li",{className:"nav-item",role:"presentation",children:(0,x.jsx)("a",{className:"nav-link",id:"ex1-tab-4","data-bs-toggle":"tab",href:"#ex1-tabs-4",role:"tab","aria-controls":"ex1-tabs-4","aria-selected":"false",onClick:async()=>{let{data:e}=await(0,d.ni)();var a;(console.log(e),null!==e&&void 0!==e&&e.error)||g(null===e||void 0===e||null===(a=e.results)||void 0===a?void 0:a.ticketList)},children:"Resolved Tickets"})})]}),(0,x.jsxs)("div",{className:"tab-content",id:"ex1-content",children:[(0,x.jsx)("div",{className:"tab-pane fade show active",id:"ex1-tabs-1",role:"tabpanel","aria-labelledby":"ex1-tab-1",children:(0,x.jsx)("div",{className:"col-12",children:P&&P.length>0?P.map(((e,a)=>{var s,t,l;return(0,x.jsxs)("div",{className:"rounded border bg-white mb-3 p-2",children:[(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("img",{src:"/images/dashboard/orange-ticket-ball.svg",alt:"",className:"me-2"}),(0,x.jsx)("p",{className:"ticket-number m-1",children:null===e||void 0===e?void 0:e.ticketType})]}),(0,x.jsx)("div",{children:(0,x.jsx)("p",{className:"ticket-post-time text-end",children:n()(e.createdAt).calendar()})})]}),(0,x.jsx)("div",{className:"text-start mt-3 ms-5",children:(0,x.jsx)("p",{children:null===e||void 0===e?void 0:e.ticketIssue})}),(0,x.jsx)("hr",{})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,x.jsxs)("div",{className:"d-flex",children:[(0,x.jsx)("img",{style:{width:"30px",height:"30px",borderRadius:"50%"},src:null!==e&&void 0!==e&&null!==(s=e.creator_Id)&&void 0!==s&&s.profile_Pic?null===e||void 0===e||null===(t=e.creator_Id)||void 0===t?void 0:t.profile_Pic:"/images/dashboard/Avatar.png",alt:"",className:"m-2 object-fit-cover"}),(0,x.jsx)("p",{className:"th-text m-auto text-capitalize",children:null===e||void 0===e||null===(l=e.creator_Id)||void 0===l?void 0:l.name})]}),(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(null===e||void 0===e?void 0:e.document)&&(0,x.jsx)("a",{type:"button","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",className:"ticket-link mt-3 mx-2 cursor_pointer",onClick:()=>(e=>{T(e)})(a),children:"See Attachement"}),(0,x.jsx)("a",{className:"ticket-link mt-3 me-1 cursor_pointer","data-bs-toggle":"modal","data-bs-target":"#exampleModals",onClick:()=>S(e),children:"Open Ticket"})]})]})]})})):(0,x.jsx)("h3",{className:"my-5 text-black-50 th-text",children:"Yay! No Tickets ".concat("This Week"===O?"This Week":O)})})}),(0,x.jsx)("div",{class:"modal fade",id:"exampleModals",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,x.jsx)("div",{class:"modal-dialog",children:(0,x.jsxs)("div",{class:"modal-content",children:[(0,x.jsxs)("div",{class:"modal-header",children:[(0,x.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:"Ticket Issue"}),(0,x.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,x.jsx)("div",{class:"modal-body",children:(0,x.jsx)("p",{children:C&&C.ticketIssue})})]})})}),(0,x.jsx)("div",{className:"tab-pane fade",id:"ex1-tabs-2",role:"tabpanel","aria-labelledby":"ex1-tab-2",children:(0,x.jsx)("div",{className:"col-12",children:P&&P.length>0?P.map(((e,a)=>{var s,t,l;return(0,x.jsxs)("div",{className:"rounded border bg-white mb-3 p-2",children:[(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("img",{src:"/images/dashboard/orange-ticket-ball.svg",alt:"",className:"me-2"}),(0,x.jsx)("p",{className:"ticket-number m-1",children:null===e||void 0===e?void 0:e.ticketType})]}),(0,x.jsx)("div",{children:(0,x.jsx)("p",{className:"ticket-post-time text-end",children:n()(e.createdAt).calendar()})})]}),(0,x.jsx)("div",{className:"text-start mt-3 ms-5",children:(0,x.jsx)("p",{children:null===e||void 0===e?void 0:e.ticketIssue})}),(0,x.jsx)("hr",{})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,x.jsxs)("div",{className:"d-flex",children:[(0,x.jsx)("img",{style:{width:"30px",height:"30px",borderRadius:"50%"},src:null!==e&&void 0!==e&&null!==(s=e.creator_Id)&&void 0!==s&&s.profile_Pic?null===e||void 0===e||null===(t=e.creator_Id)||void 0===t?void 0:t.profile_Pic:"/images/dashboard/Avatar.png",alt:"",className:"m-2 object-fit-cover"}),(0,x.jsx)("p",{className:"th-text m-auto text-capitalize",children:null===e||void 0===e||null===(l=e.creator_Id)||void 0===l?void 0:l.name})]}),(0,x.jsx)("a",{className:"ticket-link mt-3 me-1","data-bs-toggle":"modal","data-bs-target":"#exampleModals",onClick:()=>S(e),children:"Open Ticket"})]})]})})):(0,x.jsx)("h3",{className:"my-5 text-black-50 th-text",children:"Yay! No Tickets ".concat("This Week"===O?"This Week":O)})})}),(0,x.jsx)("div",{className:"tab-pane fade",id:"ex1-tabs-3",role:"tabpanel","aria-labelledby":"ex1-tab-3",children:(0,x.jsx)("div",{className:"col-12",children:P&&P.length>0?P.map(((e,a)=>{var s,t,l;return(0,x.jsxs)("div",{className:"rounded border bg-white mb-3 p-2",children:[(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("img",{src:"/images/dashboard/orange-ticket-ball.svg",alt:"",className:"me-2"}),(0,x.jsx)("p",{className:"ticket-number m-1",children:null===e||void 0===e?void 0:e.ticketType})]}),(0,x.jsx)("div",{children:(0,x.jsx)("p",{className:"ticket-post-time text-end",children:n()(e.createdAt).calendar()})})]}),(0,x.jsx)("div",{className:"text-start mt-3 ms-5",children:(0,x.jsx)("p",{children:null===e||void 0===e?void 0:e.ticketIssue})}),(0,x.jsx)("hr",{})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,x.jsxs)("div",{className:"d-flex",children:[(0,x.jsx)("img",{style:{width:"30px",height:"30px",borderRadius:"50%"},src:null!==e&&void 0!==e&&null!==(s=e.creator_Id)&&void 0!==s&&s.profile_Pic?null===e||void 0===e||null===(t=e.creator_Id)||void 0===t?void 0:t.profile_Pic:"/images/dashboard/Avatar.png",alt:"",className:"m-2 object-fit-cover"}),(0,x.jsx)("p",{className:"th-text m-auto text-capitalize",children:null===e||void 0===e||null===(l=e.creator_Id)||void 0===l?void 0:l.name})]}),(0,x.jsx)("a",{className:"ticket-link mt-3 me-1","data-bs-toggle":"modal","data-bs-target":"#exampleModals",onClick:()=>S(e),children:"Open Ticket"})]})]})})):(0,x.jsx)("h3",{className:"my-5 text-black-50 th-text",children:"Yay! No Tickets ".concat("This Week"===O?"This Week":O)})})}),(0,x.jsx)("div",{className:"tab-pane fade",id:"ex1-tabs-4",role:"tabpanel","aria-labelledby":"ex1-tab-4",children:(0,x.jsx)("div",{className:"col-12",children:j&&(null===j||void 0===j?void 0:j.length)>0?null===j||void 0===j?void 0:j.map((e=>{var a,s,t;return(0,x.jsxs)("div",{className:"rounded border bg-white mb-3 p-2",children:[(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("img",{src:"/images/dashboard/orange-ticket-ball.svg",alt:"",className:"me-2"}),(0,x.jsx)("p",{className:"ticket-number m-1",children:null===e||void 0===e?void 0:e.ticketType})]}),(0,x.jsx)("div",{children:(0,x.jsx)("p",{className:"ticket-post-time text-end",children:n()(e.createdAt).calendar()})})]}),(0,x.jsx)("div",{className:"text-start mt-3 ms-5",children:(0,x.jsx)("p",{children:null===e||void 0===e?void 0:e.ticketIssue})}),(0,x.jsx)("hr",{})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,x.jsxs)("div",{className:"d-flex",children:[(0,x.jsx)("img",{style:{width:"30px",height:"30px",borderRadius:"50%"},src:null!==e&&void 0!==e&&null!==(a=e.creator_Id)&&void 0!==a&&a.profile_Pic?null===e||void 0===e||null===(s=e.creator_Id)||void 0===s?void 0:s.profile_Pic:"/images/dashboard/Avatar.png",alt:"",className:"m-2 object-fit-cover"}),(0,x.jsx)("p",{className:"th-text m-auto text-capitalize",children:null===e||void 0===e||null===(t=e.creator_Id)||void 0===t?void 0:t.name})]}),(0,x.jsx)("a",{className:"ticket-link mt-3 me-1","data-bs-toggle":"modal","data-bs-target":"#exampleModals",onClick:()=>S(e),children:"Open Ticket"})]})]})})):(0,x.jsx)("h3",{className:"my-5 text-black-50 th-text",children:"Yay! No Tickets ".concat("This Week"===O?"This Week":O)})})})]}),(0,x.jsx)("div",{class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:(0,x.jsx)("div",{class:"modal-dialog",children:(0,x.jsxs)("div",{class:"modal-content",children:[(0,x.jsx)("div",{class:"modal-header",children:(0,x.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})}),(0,x.jsx)("div",{class:"modal-body",children:(0,x.jsx)("div",{children:null!==w&&null!==(e=j[w])&&void 0!==e&&e.document?(0,x.jsx)("img",{src:null===(a=j[w])||void 0===a?void 0:a.document,alt:"Attachment",style:{width:"100%",objectFit:"cover"}}):null})})]})})})]})]})})]})]})})})}}}]);
//# sourceMappingURL=4095.1392030e.chunk.js.map