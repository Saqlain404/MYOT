/*! For license information please see 2915.fc178900.chunk.js.LICENSE.txt */
(self.webpackChunkmyot=self.webpackChunkmyot||[]).push([[2915],{15013:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>x});var a=l(72791),t=l(39040),i=l(11087),n=l(98726),r=l(30059),o=l(61134),d=l(41418),c=l.n(d),m=l(29655),u=l(72426),h=l.n(u),p=l(81888),v=l(80184);const x=()=>{var e;const[s,d]=(0,a.useState)(!1),[u,x]=(0,a.useState)(""),[b,g]=(0,a.useState)([]),[j,f]=(0,a.useState)([]),[N,y]=(0,a.useState)([]),w=localStorage.getItem("user_id"),{register:A,handleSubmit:C,formState:{errors:k},setValue:S}=(0,o.cI)();(0,a.useEffect)((()=>{I(),V(),O()}),[]);const V=async()=>{try{let{data:s}=await(0,r.HA)();if(console.log(s),null===s||void 0===s||!s.error){var e;let l=null===s||void 0===s||null===(e=s.results)||void 0===e?void 0:e.approver;f(l)}}catch(s){console.log(s)}},O=async()=>{try{let{data:s}=await(0,r.I0)(w);if(console.log(s),null===s||void 0===s||!s.error){var e;let l=null===s||void 0===s||null===(e=s.results)||void 0===e?void 0:e.templete;g(l)}}catch(s){console.log(s)}},[B,T]=(0,a.useState)({columns:[{label:"Certificate Name",field:"name",sort:"asc",width:50,selected:!1},{label:"Assign Signatories",field:"assignTo",sort:"asc",width:50,selected:!1},{label:"Department",field:"dep",sort:"asc",width:100,selected:!1},{label:"Date of Issurance",field:"date",sort:"asc",width:100,searchable:!0,selected:!1},{label:"Status",field:"status",sort:"asc",width:100,selected:!1},{label:"Actions",field:"actions",sort:"asc",width:100,selected:!1}],rows:[],hiddenColumns:[],selectedColumns:[]}),Z=null===B||void 0===B||null===(e=B.columns)||void 0===e?void 0:e.map((e=>({...e,label:(0,v.jsxs)("div",{children:[(0,v.jsx)("input",{type:"checkbox",checked:B.selectedColumns.includes(e.field),onChange:()=>F(e.field),className:"me-1 mt-1"}),(0,v.jsx)("label",{children:e.label})]},e.field)}))),Q=null===Z||void 0===Z?void 0:Z.filter((e=>!B.hiddenColumns.includes(e.field))),I=async e=>{const{data:s}=await(0,r.Ir)(w),l=[];if(null===s||void 0===s||!s.error){var a;let e=null===s||void 0===s||null===(a=s.results)||void 0===a?void 0:a.certificateList;null===e||void 0===e||e.map(((e,s)=>{var a,t,n,r,o;let d={};d.name=(0,v.jsxs)("div",{children:[(0,v.jsx)("input",{className:"form-check-input checkbox-table",type:"checkbox",value:""})," ",(0,v.jsx)("img",{src:"/images/dashboard/Featured Icon.png",alt:""}),null===e||void 0===e?void 0:e.templeteName]}),d.assignTo=(0,v.jsxs)("div",{className:"p-0",children:[(0,v.jsx)("img",{src:null===e||void 0===e||null===(a=e.signatory)||void 0===a?void 0:a.profile_Pic,className:"list-profile-pic pt-0",alt:""}),null===e||void 0===e||null===(t=e.signatory)||void 0===t?void 0:t.name]}),d.version=null===e||void 0===e||null===(n=e.templeteVersion[0])||void 0===n?void 0:n.version,d.date=(0,v.jsxs)("div",{children:[(0,v.jsx)("img",{src:"/images/dashboard/CalendarBlank.png",alt:""}),h()(null===e||void 0===e?void 0:e.createdAt).format("L")]}),d.status=null===e||void 0===e?void 0:e.status,d.dep=null===e||void 0===e||null===(r=e.signatory)||void 0===r||null===(o=r.department_Id)||void 0===o?void 0:o.departmentName,d.actions=(0,v.jsxs)("div",{class:"text-center",children:[(0,v.jsx)("a",{className:"cursor_pointer",type:"","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,v.jsx)("img",{src:"/images/sidebar/ThreeDots.svg",className:"w-auto"})}),(0,v.jsxs)("ul",{class:"dropdown-menu border-0 shadow p-3 mb-5 rounded",children:[(0,v.jsx)("li",{children:(0,v.jsxs)(i.rU,{class:"dropdown-item",children:[(0,v.jsx)("img",{src:"/images/users/AddressBook.svg",alt:"",className:"me-2"}),"View Temp Details"]})}),(0,v.jsx)("li",{children:(0,v.jsxs)("a",{class:"dropdown-item",children:[(0,v.jsx)("img",{src:"/images/users/TextAlignLeft.svg",alt:"",className:"me-2"}),"Wrap Column"]})})]})]}),l.push(d)})),T({...B,rows:l})}},F=e=>{let s=[...B.selectedColumns];const l=s.indexOf(e);l>-1?s.splice(l,1):s.push(e),T({...B,selectedColumns:s})},[G,M]=(0,a.useState)([]);return(0,a.useEffect)((()=>{(async()=>{let{data:e}=await(0,r.nu)();null!==e&&void 0!==e&&e.error||M(null===e||void 0===e?void 0:e.results)})(),I()}),[]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"container-fluid",children:(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-2 sidebar",children:(0,v.jsx)(n.Z,{})}),(0,v.jsxs)("div",{className:"col-7 middle-content",children:[(0,v.jsx)("div",{className:"container-fluid border-bottom sticky-top bg-white mb-4",children:(0,v.jsxs)("nav",{className:"row header bg-white  ",children:[(0,v.jsx)("ul",{className:"col align-items-center mt-3",children:(0,v.jsx)("li",{className:"nav-item dropdown-hover d-none d-lg-block",children:(0,v.jsx)("a",{className:"nav-link ms-2",href:"app-email.html",children:"/Certificates"})})}),(0,v.jsxs)("div",{className:"col d-flex align-items-center  justify-content-end",children:[(0,v.jsx)("form",{className:"",role:"search",children:(0,v.jsx)("input",{className:"form-control search-bar",type:"search",placeholder:"Search","aria-label":"Search"})}),(0,v.jsxs)("div",{className:"",children:[(0,v.jsx)("img",{src:"/images/dashboard/announcement.png",alt:"",className:"ms-4 "}),(0,v.jsx)(i.rU,{to:"/Department/Chat",children:(0,v.jsx)("img",{src:"/images/dashboard/chat-left-dots-fill.png",alt:"",className:"ms-4"})}),(0,v.jsx)("img",{src:"/images/dashboard/round-notifications.png",alt:"",className:"ms-4"})]})]})]})}),(0,v.jsxs)("div",{className:"position-relative",children:[(0,v.jsx)("p",{className:"table-name mb-2",children:"Certificate List"}),(0,v.jsxs)("div",{className:" col-12 d-flex align-items-center table-searchbar",children:[(0,v.jsxs)("div",{className:"d-flex ",children:[(0,v.jsx)("div",{className:"mt-1",type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:(0,v.jsx)("img",{src:"/images/dashboard/Plus-icon.png",alt:"",className:"p-2 table-searchbar-img"})}),(0,v.jsxs)("div",{className:"col-md-3 table-searchbar-imgs",children:[(0,v.jsx)("img",{onClick:()=>{const e="asc"===B.sortType?"desc":"asc",s=[...B.rows].sort(((s,l)=>{let a=0;return s.name<l.name?a=-1:s.name>l.name&&(a=1),"asc"===e?a:-1*a}));T({...B,rows:s,sortType:e})},src:"/images/dashboard/ArrowsDownUp.png",className:"p-2 table-searchbar-img border-end cursor_pointer"}),(0,v.jsx)("img",{src:"/images/dashboard/DotsThreeOutlineVertical2.png",alt:"",className:"p-2 table-searchbar-img border-end"})]}),(0,v.jsxs)("div",{className:"d-flex ms-2 align-items-center justify-content-around table-searchbar-txt",children:[(0,v.jsxs)("p",{className:"m-0 text-nowrap",children:[(null===B||void 0===B?void 0:B.selectedColumns)&&(null===B||void 0===B?void 0:B.selectedColumns.length),(0,v.jsx)("span",{children:" Selected"})]}),s?(0,v.jsx)("p",{className:"hide-selected m-0 text-nowrap cursor_pointer ",onClick:()=>{T({...B,hiddenColumns:[],selectedColumns:[]}),d(!1)},children:"Clear Selection"}):(0,v.jsx)("p",{className:"hide-selected m-0 ms-2 text-nowrap cursor_pointer ",onClick:()=>{const e=[...B.hiddenColumns,...B.selectedColumns];T({...B,hiddenColumns:e,selectedColumns:[]}),d(!0)},children:"Hide Selected"})]}),(0,v.jsx)("div",{class:"search_icon",children:(0,v.jsx)("img",{width:20,src:l(28879)})})]}),(0,v.jsx)("form",{className:"d-flex me-2",role:"search"})]}),(0,v.jsx)("div",{className:"col-12 mdb_table mdb2 depart_table mt-3 ",children:(0,v.jsx)("div",{className:"table-responsive",children:(0,v.jsx)(p.g0K,{bordered:!0,displayEntries:!1,entries:5,className:"text-nowrap",hover:!0,data:{...B,columns:Q},noBottomColumns:!0,paginationLabel:"\xab\xbb",sortable:!1},B)})})]}),(0,v.jsxs)("div",{className:"footer",children:[(0,v.jsx)("div",{children:"\xa9 2023 MYOT"}),(0,v.jsxs)("div",{className:"d-flex ",children:[(0,v.jsx)("p",{className:"ms-3",children:"About"}),(0,v.jsx)("p",{className:"ms-3",children:"Support"}),(0,v.jsx)("p",{className:"ms-3",children:"Contact Us"})]})]})]}),(0,v.jsx)("div",{className:"col",children:(0,v.jsx)(t.Z,{})})]})}),(0,v.jsx)("div",{class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,v.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-dialog-department",children:(0,v.jsxs)("div",{class:"modal-content border-0",children:[(0,v.jsxs)("div",{class:"d-flex modal-header border-bottom",children:[(0,v.jsx)("p",{class:"",id:"exampleModalLabel",children:"Add Signatory"}),(0,v.jsx)("button",{type:"button",class:"btn-close",id:"closeModal","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,v.jsxs)("form",{onSubmit:C((async e=>{const{data:s}=(0,r.Q)({templete_Id:null===e||void 0===e?void 0:e.templates,signatory:null===e||void 0===e?void 0:e.signatory,creator_Id:w});null!==s&&void 0!==s&&s.error||(console.log(s),m.Am.success(null===s||void 0===s?void 0:s.message),setTimeout((()=>{I(),document.getElementById("closeModal").click(),document.getElementById("reset-modal").click()}),[2e3]))})),action:"",children:[(0,v.jsxs)("div",{className:"row p-3",children:[(0,v.jsxs)("div",{className:"col-md-12 mb-3",children:[(0,v.jsxs)("select",{name:"templates",className:c()(" col modal-input th-text p-2 me-3 w-100",{"is-invalid":k.approver}),...A("templates",{required:"* Please select a Template"}),children:[(0,v.jsx)("option",{className:"w-100",children:"Select Document"}),b&&b.map((e=>(0,v.jsx)("option",{className:"w-100",value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.templeteName},null===e||void 0===e?void 0:e._id)))]}),k.templates&&(0,v.jsx)("div",{className:"invalid-feedback",children:k.templates.message})]}),(0,v.jsx)("div",{className:"col-12 mb-3 ",children:(0,v.jsx)("p",{className:"bg-primary-subtle th-text ps-4 p-2",children:"Assign"})}),(0,v.jsx)("div",{className:"col-12 border-bottom border-light mb-3 ",children:(0,v.jsxs)("div",{className:"row",children:[(0,v.jsxs)("p",{className:"col-4 td-text p-2",children:[(0,v.jsx)("input",{className:" form-check-input checkbox-table ms-4 me-4",type:"checkbox",value:""}),"Signatory"]}),(0,v.jsxs)("select",{name:"signatory",className:c()(" col modal-input th-text p-2 me-3",{"is-invalid":k.signatory}),...A("signatory",{required:"* Please select a signatory"}),children:[(0,v.jsx)("option",{className:"w-100",children:"Select signatory"}),j&&(null===j||void 0===j?void 0:j.map((e=>(0,v.jsx)("option",{className:"w-100",value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id))))]}),k.signatory&&(0,v.jsx)("div",{className:"invalid-feedback",children:k.signatory.message})]})})]}),(0,v.jsxs)("div",{className:"d-flex justify-content-end mb-3",children:[(0,v.jsx)("button",{type:"submit",class:"user-modal-btn",children:"Add New"}),(0,v.jsx)("button",{type:"reset",id:"reset-modal",class:"user-modal-btn2",children:"Cancel"})]})]})]})})})]})}},28879:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAD7UlEQVRYR8WWXYhUZRiAn/cM/qQlZtbumbOGUlkq0V1BFEFt1JVQSwtChBmVZj904UVbO+c7s6b9IRaUuhe53cVWG11EQZCSBCoRIZZlQgt2zigutGBZ7c956ztzVmZnZ2bn7IC+d2fm/Xnen+/7XuEyi1zm+GQGWGd0/gh05KA9htGFEA0bGZ1rIk0BXL9Tr54Y41GBLoV7agQ7hfIxOQaiXvklC0xDgGW+LlngUBDYAixqxrHAJyg9oZGTTerXVstv1xVM8iWwtkJjGPhchOOx8htwncBNwP3A7YCT6p5XpbtkxNo3lJoVaOvTVbmYo8Bya63CQWL8kpFv6nmzwDpBjwibUx1V6Cr58mkjghkAtuwLHb6jnJmVPVGBrYjobNnY/11fHxaHD4F5wN+i3Bka+aGe7QwAz+g+FZ5KMlf2lozY/meSvNH1CDZz25KTkbIGI3EtJ9MA2o2udYQfU8VvowJ3N5t5tXM30O0CLye/C09EBXl/VoB8oO9Rnngk5r4wkK8zpV6hvNLo0jHhNHAlcCzy5bZZAdxAIwEXGI58WTXX4FN2eaP7ETba71yMdzqQqNrnxRZ0GL0xFn5NFJS3IiPbWgVwA31IYKjcBTaGvnxQF8D19S5xOJQoC1vCguxtFSDfpzcT83OaVDEy4tcFSCf3s3RoNkQFsUepJenYpVfE57mQOtkf+bKpEUAnwldpuTaHvuxrKTrg7dBrdJyR1M+eyJdn6gK0F3WdoxxPFUzkS9AqQEdRb42VY2lSr4S+vFoXoO1NXZy7wB/pDXYg8uXeVgHcQF8Q2J3MdUxXKZBkICtl2kWUL+oXKA8C8bjinTNyphUIN9AjUn6kxseVZeeM/NkYINDHgfKNpQxERuz3nMQL9BGFwaT8wlBYkK5ajqa/BYOay5/gFLAy7Vt36MtHWQk8o6tVOAIstak4yurfjVi/M2TGY+QG+oCQ7AFWJgU2ZIFw+3SNxMlp8pIklN2hkRfrJVFzH/AC7VUoXjRSipOLeePsNvmrbjWMOnmHbhR7fJckXRQOlm6hk26ZzARgld1AdwlUktsT0p+LeafyTl/+ul417x/sBfOcwA0VgQ7NV9bPtrA23Am9QJ9WeBtYkGUOROkPYStGJqxdPlBfhX9LBXmt4SmoFaR9h16bG6NHy6+aHap6MoYyFEPfGSM/TSm5RX1eNEnCtuSlaoim1vLE2aDm3BN0OnYtV1ao0AaMihLGwvfxIoZqzYgb6JMC/VNACj0lX3ZOfTcPkKUHVbrVEMCzkS/vJqekBb+ZTL2iPqbKwP/BRyYd7jjbK3atv3QAyTAWdVMcc7hyRi5ZBTLfA5nq24LyfxJhZTC25f8ZAAAAAElFTkSuQmCC"},41418:(e,s)=>{var l;!function(){"use strict";var a={}.hasOwnProperty;function t(){for(var e="",s=0;s<arguments.length;s++){var l=arguments[s];l&&(e=n(e,i(l)))}return e}function i(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return t.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var s="";for(var l in e)a.call(e,l)&&e[l]&&(s=n(s,l));return s}function n(e,s){return s?e?e+" "+s:e+s:e}e.exports?(t.default=t,e.exports=t):void 0===(l=function(){return t}.apply(s,[]))||(e.exports=l)}()},97326:(e,s,l)=>{"use strict";function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}l.d(s,{Z:()=>a})},87462:(e,s,l)=>{"use strict";function a(){return a=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},a.apply(this,arguments)}l.d(s,{Z:()=>a})},94578:(e,s,l)=>{"use strict";l.d(s,{Z:()=>t});var a=l(89611);function t(e,s){e.prototype=Object.create(s.prototype),e.prototype.constructor=e,(0,a.Z)(e,s)}},63366:(e,s,l)=>{"use strict";function a(e,s){if(null==e)return{};var l,a,t={},i=Object.keys(e);for(a=0;a<i.length;a++)l=i[a],s.indexOf(l)>=0||(t[l]=e[l]);return t}l.d(s,{Z:()=>a})},89611:(e,s,l)=>{"use strict";function a(e,s){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,s){return e.__proto__=s,e},a(e,s)}l.d(s,{Z:()=>a})}}]);
//# sourceMappingURL=2915.fc178900.chunk.js.map