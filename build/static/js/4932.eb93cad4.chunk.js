"use strict";(self.webpackChunkmyot=self.webpackChunkmyot||[]).push([[4932],{24932:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var i=a(72791),l=a(39040),t=(a(54347),a(57689)),n=a(11087),r=a(89542),o=(a(29655),a(58400)),c=a(21830),d=a.n(c),m=a(64581),p=a(59434),u=a(81161),f=a(80184);const x=()=>{const[e,s]=(0,i.useState)(),[a,c]=(0,i.useState)(),[x,h]=(0,i.useState)(),[j,v]=(0,i.useState)(!1),[g,N]=(0,i.useState)(!1),w=(localStorage.getItem("user_id")||localStorage.getItem("myot_admin_id"),(0,p.I0)()),y=(0,t.TH)(),{state:P}=y,[_,b]=(0,i.useState)({name:"",password:"",confirmPassword:"",profile_Pic:null}),C=(0,t.s0)(),k=e=>{b({..._,[e.target.name]:e.target.value}),c("")};(0,i.useEffect)((()=>{localStorage.getItem("token-company")||C("/Employee/edit-profile")}),[]);const S=/^(?=.*[A-Z])(?=.*[!@#$%^&*])(?=.{8,})/;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:"container-fluid",children:(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-2 sidebar",children:(0,f.jsx)(r.Z,{})}),(0,f.jsxs)("div",{className:"col-7 middle-content p-0 min-vh-100",children:[(0,f.jsx)("div",{className:"container-fluid sticky-top bg-white mb-4",children:(0,f.jsxs)("nav",{className:"row header bg-white  ",children:[(0,f.jsx)("ul",{className:"col align-items-center mt-3",children:(0,f.jsx)("li",{className:"nav-item dropdown-hover d-none d-lg-block",children:(0,f.jsx)("a",{className:"nav-link fw-bold ms-2",children:"My Profile / Edit"})})}),(0,f.jsx)("div",{className:"col-7 d-flex align-items-center  justify-content-end",children:(0,f.jsxs)("div",{className:"",children:[(0,f.jsx)("img",{src:"/images/dashboard/announcement.png",alt:"",className:"ms-4 "}),(0,f.jsx)(n.rU,{to:"/Approver/Chat",children:(0,f.jsx)("img",{src:"/images/dashboard/chat-left-dots-fill.png",alt:"",className:"ms-4"})}),(0,f.jsx)("img",{src:"/images/dashboard/round-notifications.png",alt:"",className:"ms-4"})]})})]})}),(0,f.jsx)("div",{className:"container px-4 text-center min-vh-100 ",children:(0,f.jsxs)("div",{className:"row rounded",children:[(0,f.jsx)("div",{className:" d-flex justify-content-between",children:(0,f.jsx)("p",{className:"profile-txt m-2",children:"Your Profile Picture"})}),(0,f.jsxs)("form",{className:"row",onSubmit:async e=>{var s;if(e.preventDefault(),_.password&&!S.test(_.password))return c("Password must be at least 8 characters long, contain one uppercase letter, and one special character"),!1;if(_.confirmPassword!==_.password)return h("Passwords do not match"),!1;const a=new FormData;a.append("name",_.name),a.append("password",_.password),a.append("confirmPassword",_.confirmPassword),a.append("profile_Pic",_.profile_Pic);const i=await(0,o.ck)(a);var l,t,n,r,p,u;null!==(s=i.data)&&void 0!==s&&s.error||(C("/Approver/My-profile"),d().fire({toast:!0,icon:"success",position:"top-end",title:"Profile Updated",showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),w((0,m.Ax)(null===i||void 0===i||null===(l=i.data)||void 0===l||null===(t=l.results)||void 0===t||null===(n=t.approver)||void 0===n?void 0:n.profile_Pic)),w((0,m.WY)(null===i||void 0===i||null===(r=i.data)||void 0===r||null===(p=r.results)||void 0===p||null===(u=p.approver)||void 0===u?void 0:u.name)),console.log(i))},children:[(0,f.jsxs)("div",{className:"d-flex flex-column align-items-start mb-4",children:[(0,f.jsx)("label",{htmlFor:"new_img",children:(0,f.jsx)("img",{src:e||(null===P||void 0===P?void 0:P.profile_Pic),alt:"",className:"w_100_h_100",style:{cursor:"pointer"}})}),(0,f.jsx)("input",{className:"file-upload",style:{display:"none"},type:"file",id:"new_img",accept:"image/*",name:"profile_Pic",onChange:e=>{b({..._,profile_Pic:e.target.files[0]});const a=e.target.files[0],i=URL.createObjectURL(a);s(i)}})]}),(0,f.jsxs)("div",{className:"col-12 m-2",children:[(0,f.jsx)("p",{className:" d-flex justify-content-start profile-card-title",children:"Full Name"}),(0,f.jsx)("input",{type:"text",placeholder:"Full Name",className:"col-12 profile-edit-input p-2",name:"name",defaultValue:null===P||void 0===P?void 0:P.name,onChange:k})]}),(0,f.jsxs)("div",{className:"col-12 d-flex justify-content-between mt-3 ",children:[(0,f.jsxs)("div",{className:"col-6 m-2 position-relative",children:[(0,f.jsx)("p",{className:" d-flex justify-content-start profile-card-title",children:"Password"}),(0,f.jsx)("input",{type:j?"text":"password",value:_.password,placeholder:"Password",className:"col-12 profile-edit-input p-2",name:"password",onChange:k}),a&&(0,f.jsx)("p",{className:" errorText  ",children:a}),(0,f.jsx)("div",{className:"eye_container eye_container2 pt-1",onClick:()=>v(!j),children:j?(0,f.jsx)("img",{className:"eye_icon",src:"/images/icons/view.png",alt:""}):(0,f.jsx)("img",{className:"eye_icon",src:"/images/icons/hide.png",alt:""})})]}),(0,f.jsxs)("div",{className:"col-6 m-2 position-relative",children:[(0,f.jsx)("p",{className:" d-flex justify-content-start profile-card-title",children:"Confirm Password"}),(0,f.jsx)("input",{type:g?"text":"password",value:_.confirmPassword,placeholder:"Confirm Password",className:"col-12 profile-edit-input p-2",name:"confirmPassword",onChange:k}),x&&(0,f.jsx)("p",{className:"d-flex errorText ms-2 justify-content-start",children:x}),(0,f.jsx)("div",{className:"eye_container eye_container2 pt-1",onClick:()=>N(!g),children:g?(0,f.jsx)("img",{className:"eye_icon",src:"/images/icons/view.png",alt:""}):(0,f.jsx)("img",{className:"eye_icon",src:"/images/icons/hide.png",alt:""})})]})]}),(0,f.jsx)("div",{className:"text-end  ms-4 mt-1 ",children:(0,f.jsx)(u.Z,{appearance:"primary",className:"profile-edit-submit btn  rounded-2 m-0",type:"submit",children:"Update Profile"})})]})]})})]}),(0,f.jsx)("div",{className:"col",children:(0,f.jsx)(l.Z,{})})]})})})}}}]);
//# sourceMappingURL=4932.eb93cad4.chunk.js.map