(self.webpackChunkmyot=self.webpackChunkmyot||[]).push([[5014],{2611:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});var o=t(5294);o.Z.defaults.headers.common["x-auth-token-company"]=localStorage.getItem("token-company"),o.Z.interceptors.request.use((async e=>(e.headers["x-auth-token-company"]=await localStorage.getItem("token-company"),e.headers["x-auth-token-admin"]=await localStorage.getItem("token-main-admin"),e))),o.Z.interceptors.response.use(null,(e=>{e.response&&e.response.status>=400&&e.response.status;return Promise.reject(e)}));const r={get:o.Z.get,post:o.Z.post,put:o.Z.put,delete:o.Z.delete}},5839:(e,a,t)=>{"use strict";t.d(a,{$g:()=>l,AA:()=>f,Jx:()=>u,Tk:()=>v,WZ:()=>g,Z7:()=>p,cA:()=>m,gF:()=>c,qD:()=>d});var o=t(2611),r=t(9655),n=t(2477),s=t(1830),i=t.n(s);async function l(e){try{const{data:i,headers:l}=await o.Z.post("".concat("http://ec2-51-112-25-93.me-central-1.compute.amazonaws.com:2053","/api/company/login"),e);var a,t,n,s;if(null===i||void 0===i||!i.error)return localStorage.setItem("myot_admin_id",null===i||void 0===i||null===(a=i.results)||void 0===a||null===(t=a.employee)||void 0===t?void 0:t._id),await localStorage.removeItem("token-company"),await localStorage.setItem("token-company",l["x-auth-token-company"]),await localStorage.setItem("user_id",null===i||void 0===i||null===(n=i.results)||void 0===n||null===(s=n.employee)||void 0===s?void 0:s._id),{data:i};r.Am.error(i.message)}catch(i){return i.response&&r.Am.error(i.response.data.message),{error:i}}}async function c(e){try{const{data:a}=await o.Z.put("".concat("http://ec2-51-112-25-93.me-central-1.compute.amazonaws.com:2053","/api/company/forgotPassword"),e);if(console.log(a),a.error?r.Am.error(a.message):await localStorage.removeItem("token-admin"),!a.error)return{data:a}}catch(a){return a.response&&r.Am.error(a.response.data.message),{error:a}}}async function d(e){try{const{data:a}=await o.Z.put("".concat("http://ec2-51-112-25-93.me-central-1.compute.amazonaws.com:2053","/api/company/verifyOTP"),e);if(console.log(a),a.error?r.Am.error(a.message):r.Am.success(a.message),!a.error)return{data:a}}catch(a){return a.response&&r.Am.error(a.response.data.message),{error:a}}}async function m(e){try{const{data:a}=await o.Z.put("".concat("http://ec2-51-112-25-93.me-central-1.compute.amazonaws.com:2053","/api/company/updatePassword"),e);if(console.log(a),a.error?r.Am.error(a.message):r.Am.success(a.message),!a.error)return{data:a}}catch(a){return a.response&&r.Am.error(a.response.data.message),{error:a}}}async function u(e){try{const{data:a}=await o.Z.post("".concat("http://ec2-51-112-25-93.me-central-1.compute.amazonaws.com:2053","/api/company/signup  "),e);return null!==a&&void 0!==a&&a.error?(i().fire({toast:!0,icon:"error",position:"top-end",title:null===a||void 0===a?void 0:a.message,showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),{data:a}):{data:a}}catch(a){return a.response&&i().fire({toast:!0,icon:"error",position:"top-end",title:a.response.data.message,showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),{error:a}}}async function p(e){try{const{data:a,headers:t}=await n.Z.post("".concat("http://ec2-51-112-25-93.me-central-1.compute.amazonaws.com:2053","/api/admin/login"),e);return console.log("login Data",a),a.error?(r.Am.error(a.message),{data:a}):(await localStorage.removeItem("token-main-admin"),await localStorage.setItem("token-main-admin",t["x-auth-token-admin"]),{data:a})}catch(a){return a.response&&r.Am.error(a.response.data.message),{error:a}}}async function g(e){try{const{data:a}=await n.Z.post("".concat("http://ec2-51-112-25-93.me-central-1.compute.amazonaws.com:2053","/api/admin/forgotPassword"),e);if(console.log(a),a.error?r.Am.error(a.message):await localStorage.removeItem("token-main-admin"),!a.error)return{data:a}}catch(a){return a.response&&r.Am.error(a.response.data.message),{error:a}}}async function v(e){try{const{data:a}=await n.Z.post("".concat("http://ec2-51-112-25-93.me-central-1.compute.amazonaws.com:2053","/api/admin/verifyOTP"),e);if(console.log(a),a.error&&r.Am.error(a.message),!a.error)return{data:a}}catch(a){return a.response&&r.Am.error(a.response.data.message),{error:a}}}async function f(e){try{const{data:a}=await n.Z.post("".concat("http://ec2-51-112-25-93.me-central-1.compute.amazonaws.com:2053","/api/admin/updatePassword"),e);if(console.log(a),a.error&&r.Am.error(a.message),!a.error)return{data:a}}catch(a){return a.response&&r.Am.error(a.response.data.message),{error:a}}}},2477:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});var o=t(5294);o.Z.defaults.headers.common["x-auth-token-admin"]=localStorage.getItem("token-main-admin"),o.Z.interceptors.request.use((async e=>(e.headers["x-auth-token-admin"]=await localStorage.getItem("token-main-admin"),e))),o.Z.interceptors.response.use(null,(e=>{e.response&&e.response.status>=400&&e.response.status;return Promise.reject(e)}));const r={get:o.Z.get,post:o.Z.post,put:o.Z.put,delete:o.Z.delete}},96:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>y});var o=t(2791),r=t(1087),n=t(1134),s=t(7689),i=t(5839),l=t(9434),c=t(4581),d=t(1830),m=t.n(d),u=t(1418),p=t.n(u),g=t(2994),v=t(1161),f=t(1632),h=t(9806),x=t(184);const y=()=>{var e;const[a,t]=(0,o.useState)("password"),[d,u]=(0,o.useState)(""),[y,w]=(0,o.useState)(!1),[b,k]=(0,o.useState)(!1),[C,N]=(0,o.useState)(!1),Z=(0,l.I0)(),{register:j,handleSubmit:S,formState:{errors:A,isValid:I}}=(0,n.cI)({mode:"onChange"}),P=(0,s.s0)();(0,o.useEffect)((()=>{localStorage.getItem("token-admin")||P("/Login")}),[]);let _=JSON.parse(localStorage.getItem("myot_login_save"));return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{className:"container-fluid login-bg",children:(0,x.jsxs)("div",{className:"row flex-nowrap",children:[(0,x.jsxs)("div",{className:"col-4 login-form p-4",children:[(0,x.jsxs)("div",{className:"form-login mt-3",children:[(0,x.jsx)("img",{src:"/images/Myot-logo.png",className:"logo"}),(0,x.jsx)("h2",{className:"mb-3 fs-7 fw-bolder myot",children:"Myot"}),(0,x.jsx)("p",{className:"login-desc m-0 p-0",children:"Please fill your detail to access your account."})]}),(0,x.jsxs)("form",{className:"form-login",onSubmit:S((async e=>{var a;console.log(e),console.log(y),N(!0),y&&(e=>{localStorage.setItem("myot_login_save",JSON.stringify(e))})(e);const t=await(0,i.$g)(e);if(console.log("login Data",t),null===t||void 0===t||!t.data||null!==t&&void 0!==t&&null!==(a=t.data)&&void 0!==a&&a.error)N(!1);else{var o,r,n,s,l;N(!1),m().fire({toast:!0,icon:"success",position:"top-end",title:"Login successfull",showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),Z((0,c.M)(null===t||void 0===t||null===(o=t.data)||void 0===o||null===(r=o.results)||void 0===r?void 0:r.employee));let e=await(null===t||void 0===t||null===(n=t.data)||void 0===n||null===(s=n.results)||void 0===s||null===(l=s.employee)||void 0===l?void 0:l.employRole[0]);e.includes("Admin")?P("/Admin/Home"):P("Department Manager"===e?"/Department/Home":"/".concat(e,"/Home"))}setTimeout((()=>{N(!1)}),[6e3])})),children:[(0,x.jsxs)("div",{className:"input_icon_container mb-3 ",children:[(0,x.jsx)("div",{className:null!==A&&void 0!==A&&A.email?"text-danger input_icons":"input_icons",children:(0,x.jsx)(h.G,{icon:f.FU$})}),(0,x.jsx)("label",{for:"",className:"form-label",children:"Email Address"}),(0,x.jsx)("input",{type:"email",className:p()("form-control",{"is-invalid":A.email}),id:"email",name:"email","aria-describedby":"emailHelp",placeholder:"example@gmail.com",autoComplete:"off",defaultValue:null===_||void 0===_?void 0:_.email,...j("email",{required:"This field is required",pattern:{value:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"Invalid email address"}})}),(null===A||void 0===A?void 0:A.email)&&(0,x.jsx)("small",{className:"errorText mt-1",children:A.email.message})]}),(0,x.jsxs)("div",{className:"input_icon_container mb-3 ",children:[(0,x.jsx)("div",{className:null!==A&&void 0!==A&&A.password?"text-danger input_icons":"input_icons",children:(0,x.jsx)(h.G,{icon:f.byT})}),(0,x.jsx)("label",{for:"",className:"form-label",children:"Password"}),(0,x.jsx)("input",{type:b?"text":"password",className:p()("form-control",{"is-invalid":A.password}),name:"password",placeholder:"********",id:"password",autoComplete:"off",defaultValue:null===_||void 0===_?void 0:_.password,...j("password",{required:"* Please Enter Your Password",pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"* Minimun 8 characters, One Uppercase, One Lowercase & One Special Character Allowed"}})}),(0,x.jsx)("div",{className:"eye_container",onClick:()=>k(!b),children:b?(0,x.jsx)("img",{className:"eye_icon",src:"/images/icons/view.png",alt:""}):(0,x.jsx)("img",{className:"eye_icon",src:"/images/icons/hide.png",alt:""})}),A.password&&(0,x.jsx)("small",{className:"errorText ",children:null===(e=A.password)||void 0===e?void 0:e.message})]}),(0,x.jsx)("div",{className:"d-flex justify-content-between mb-4 remember",children:(0,x.jsx)("div",{className:"",children:(0,x.jsxs)(g.Z,{onChange:()=>w(!y),children:[" ","Remember Me"]})})}),(0,x.jsx)(v.Z,{loading:C,appearance:"primary",className:"btn py-8 mb-3  rounded-2",type:"submit",disabled:!I,children:"SIGN IN"}),(0,x.jsx)("div",{className:"text-center",children:(0,x.jsx)(r.rU,{className:"text-decoration-none fw-bold  reset-password  mt-2",to:"/Forgot-password",children:"Forgot Password?"})}),(0,x.jsxs)("div",{className:"form-check-label text-dark remember-me mb-4 text-center mt-2",children:["New to Myot? Create an account",(0,x.jsx)(r.rU,{className:" fw-medium reset-password ms-2 fw-bold",to:"/Admin/Signup",children:"Sign Up"})]})]})]}),(0,x.jsx)("div",{className:"col-8 m-auto d-flex justify-content-center align-items-center",children:(0,x.jsx)("img",{src:"/images/Login.png",alt:"",className:" text-center d-block img-fluid p-inherit"})})]})})})}},7927:(e,a,t)=>{var o=t(5358),r=t(7056)(o);e.exports=r},5099:(e,a,t)=>{var o=t(372)();e.exports=o},5358:(e,a,t)=>{var o=t(5099),r=t(2742);e.exports=function(e,a){return e&&o(e,a,r)}},8019:(e,a,t)=>{var o=t(8950);e.exports=function(e,a){return o(a,(function(a){return e[a]}))}},3410:(e,a,t)=>{var o=t(2100);e.exports=function(e){return"function"==typeof e?e:o}},7056:(e,a,t)=>{var o=t(1473);e.exports=function(e,a){return function(t,r){if(null==t)return t;if(!o(t))return e(t,r);for(var n=t.length,s=a?n:-1,i=Object(t);(a?s--:++s<n)&&!1!==r(i[s],s,i););return t}}},372:e=>{e.exports=function(e){return function(a,t,o){for(var r=-1,n=Object(a),s=o(a),i=s.length;i--;){var l=s[e?i:++r];if(!1===t(n[l],l,n))break}return a}}},6514:(e,a,t)=>{var o=t(4550),r=t(7927),n=t(3410),s=t(3629);e.exports=function(e,a){return(s(e)?o:r)(e,n(a))}},806:(e,a,t)=>{var o=t(4842),r=t(1473),n=t(6769),s=t(9753),i=t(2063),l=Math.max;e.exports=function(e,a,t,c){e=r(e)?e:i(e),t=t&&!c?s(t):0;var d=e.length;return t<0&&(t=l(d+t,0)),n(e)?t<=d&&e.indexOf(a,t)>-1:!!d&&o(e,a,t)>-1}},6769:(e,a,t)=>{var o=t(9066),r=t(3629),n=t(3141);e.exports=function(e){return"string"==typeof e||!r(e)&&n(e)&&"[object String]"==o(e)}},2063:(e,a,t)=>{var o=t(8019),r=t(2742);e.exports=function(e){return null==e?[]:o(e,r(e))}},2994:(e,a,t)=>{"use strict";t.d(a,{Z:()=>C});var o=t(1880),r=t(7462),n=t(3366),s=t(2791),i=t(5422),l=t.n(i);const c=function(e,a){var t=(0,s.useRef)(!1);t.current=void 0!==e;var o=(0,s.useState)(a),r=o[0],n=o[1];return[t.current?e:r,(0,s.useCallback)((function(e){t.current||n(e)}),[t]),t.current]};var d=t(9112),m=t(6514),u=t.n(m),p=t(806),g=t.n(p),v=[].concat(["selected","defaultValue","defaultChecked","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","form","id","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","type","value"],["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"]),f=function(e,a){void 0===a&&(a={});var t=a,o=t.htmlProps,r=void 0===o?v:o,n=t.includeAria,s=void 0===n||n,i={},l={};return u()(e,(function(e,a){var t=s&&(/^aria-.*$/.test(a)||"role"===a);(g()(r,a)||t?i:l)[a]=e})),[i,l]};var h,x,y,w=l().oneOfType([l().func,l().any]),b=s.createContext(void 0),k=s.forwardRef((function(e,a){var t=(0,s.useContext)(b),i=null!==t&&void 0!==t?t:{},l=i.inline,m=i.name,u=i.disabled,p=i.readOnly,g=i.plaintext,v=i.onChange,w=e.as,k=void 0===w?"div":w,C=e.checked,N=e.className,Z=e.children,j=e.classPrefix,S=void 0===j?"checkbox":j,A=e.checkable,I=void 0===A||A,P=e.defaultChecked,_=void 0!==P&&P,M=e.title,O=e.inputRef,D=e.inputProps,E=e.indeterminate,T=e.tabIndex,z=void 0===T?0:T,L=e.disabled,$=void 0===L?u:L,q=e.readOnly,B=void 0===q?p:q,F=e.plaintext,R=void 0===F?g:F,U=e.inline,H=void 0===U?l:U,V=e.name,G=void 0===V?m:V,J=e.value,K=e.onClick,W=e.onCheckboxClick,Y=e.onChange,Q=(0,n.Z)(e,["as","checked","className","children","classPrefix","checkable","defaultChecked","title","inputRef","inputProps","indeterminate","tabIndex","disabled","readOnly","plaintext","inline","name","value","onClick","onCheckboxClick","onChange"]),X=c(C,_),ee=X[0],ae=X[1],te=X[2],oe=(0,s.useMemo)((function(){var e,a;return t?null!==(e=null===(a=t.value)||void 0===a?void 0:a.some((function(e){return e===J})))&&void 0!==e&&e:ee}),[t,ee,J]),re=(0,d.Z)(S),ne=re.merge,se=re.prefix,ie=ne(N,(0,re.withClassPrefix)({inline:H,indeterminate:E,disabled:$,checked:oe})),le=f(Q),ce=le[0],de=le[1],me=!!t||te;"undefined"!==typeof me&&(ce[me?"checked":"defaultChecked"]=oe);var ue=(0,s.useCallback)((function(e){var a=e.target.checked;$||B||(ae(a),null===Y||void 0===Y||Y(J,a,e),null===v||void 0===v||v(J,a,e))}),[$,B,ae,Y,J,v]);if(R)return oe?s.createElement(k,(0,r.Z)({},de,{ref:a,className:ie}),Z):null;var pe=s.createElement("span",{className:se(h||(h=(0,o.Z)(["wrapper"]))),onClick:W,"aria-disabled":$},s.createElement("input",(0,r.Z)({},ce,D,{name:G,value:J,type:"checkbox",ref:O,tabIndex:z,readOnly:B,disabled:$,"aria-disabled":$,"aria-checked":E?"mixed":oe,onClick:function(e){return e.stopPropagation()},onChange:ue})),s.createElement("span",{className:se(x||(x=(0,o.Z)(["inner"]))),"aria-hidden":!0,role:"presentation"}));return s.createElement(k,(0,r.Z)({},de,{ref:a,onClick:K,className:ie}),s.createElement("div",{className:se(y||(y=(0,o.Z)(["checker"])))},s.createElement("label",{title:M},I?pe:null,Z)))}));k.displayName="Checkbox",k.propTypes={as:l().elementType,title:l().string,className:l().string,inline:l().bool,disabled:l().bool,checked:l().bool,defaultChecked:l().bool,indeterminate:l().bool,onChange:l().func,onClick:l().func,inputProps:l().any,inputRef:w,value:l().any,children:l().node,classPrefix:l().string,tabIndex:l().number,checkable:l().bool,onCheckboxClick:l().func};const C=k}}]);
//# sourceMappingURL=5014.6154ee59.chunk.js.map