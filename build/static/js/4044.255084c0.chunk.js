"use strict";(self.webpackChunkmyot=self.webpackChunkmyot||[]).push([[4044],{74044:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var l=a(72791),i=a(39040),t=(a(54347),a(57689)),n=a(11087),o=a(23773),r=a(78709),c=(a(29655),a(21830)),d=a.n(c),m=a(59434),p=a(64581),u=a(81161),f=a(80184);const x=()=>{const[e,s]=(0,l.useState)("password"),[a,c]=(0,l.useState)(""),[x,h]=(0,l.useState)({}),[j,v]=(0,l.useState)(null),[g,N]=(0,l.useState)(),[w,y]=(0,l.useState)(),[P,b]=(0,l.useState)(),[_,C]=(0,l.useState)(!1),[S,k]=(0,l.useState)(!1),[E,F]=(0,l.useState)({name:"",password:"",confirmPassword:"",profile_Pic:null}),U=(0,m.I0)(),Z=(0,t.TH)(),{state:T}=Z,A=(0,t.s0)(),B=e=>{F({...E,[e.target.name]:e.target.value}),N("")};(0,l.useEffect)((()=>{localStorage.getItem("token-company")||A("/Employee/edit-profile")}),[]);const D=/^(?=.*[A-Z])(?=.*[!@#$%^&*])(?=.{8,})/;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:"container-fluid",children:(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-2 sidebar",children:(0,f.jsx)(o.Z,{})}),(0,f.jsxs)("div",{className:"col-7 middle-content p-0 min-vh-100",children:[(0,f.jsx)("div",{className:"container-fluid  sticky-top bg-white mb-4",children:(0,f.jsxs)("nav",{className:"row header bg-white  ",children:[(0,f.jsx)("ul",{className:"col align-items-center mt-3",children:(0,f.jsx)("li",{className:"nav-item dropdown-hover d-none d-lg-block",children:(0,f.jsx)("a",{className:"nav-link fw-bold ms-2",href:"/Employee/profile",children:"My Profile / Edit"})})}),(0,f.jsx)("div",{className:"col-7 d-flex align-items-center  justify-content-end",children:(0,f.jsxs)("div",{className:"",children:[(0,f.jsx)("img",{src:"/images/dashboard/announcement.png",alt:"",className:"ms-4 "}),(0,f.jsx)(n.rU,{to:"/Employee/Chat",children:(0,f.jsx)("img",{src:"/images/dashboard/chat-left-dots-fill.png",alt:"",className:"ms-4"})}),(0,f.jsx)("img",{src:"/images/dashboard/round-notifications.png",alt:"",className:"ms-4"})]})})]})}),(0,f.jsx)("div",{className:"container px-4 text-center min-vh-100 ",children:(0,f.jsxs)("div",{className:"row rounded",children:[(0,f.jsx)("div",{className:" d-flex justify-content-between",children:(0,f.jsx)("p",{className:"profile-txt m-2",children:"Your Profile Picture"})}),(0,f.jsxs)("form",{className:"row",onSubmit:async e=>{var s;if(e.preventDefault(),E.password&&!D.test(E.password))return N("Password must be at least 8 characters long, contain one uppercase letter, and one special character"),!1;E.confirmPassword!==E.password&&y("Passwords do not match");const a=new FormData;a.append("name",E.name),a.append("password",E.password),a.append("confirmPassword",E.confirmPassword),a.append("profile_Pic",E.profile_Pic);const l=await(0,r.ck)(a);var i,t,n,o,c,m;(console.log(l),null!==(s=l.data)&&void 0!==s&&s.error)||(A("/Employee/profile"),d().fire({toast:!0,icon:"success",position:"top-end",title:"Profile Updated",showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),U((0,p.Ax)(null===l||void 0===l||null===(i=l.data)||void 0===i||null===(t=i.results)||void 0===t||null===(n=t.employee)||void 0===n?void 0:n.profile_Pic)),U((0,p.WY)(null===l||void 0===l||null===(o=l.data)||void 0===o||null===(c=o.results)||void 0===c||null===(m=c.employee)||void 0===m?void 0:m.name)),console.log(l))},children:[(0,f.jsxs)("div",{className:" d-flex flex-column align-items-start mb-4",children:[(0,f.jsx)("label",{htmlFor:"new_img",children:(0,f.jsx)("img",{src:P||(null===T||void 0===T?void 0:T.profile_Pic),alt:"",className:"w_100_h_100",style:{cursor:"pointer"}})}),(0,f.jsx)("input",{className:"file-upload",style:{display:"none"},type:"file",id:"new_img",accept:"image/*",name:"profile_Pic",onChange:e=>{F({...E,profile_Pic:e.target.files[0]});const s=e.target.files[0],a=URL.createObjectURL(s);b(a)}})]}),(0,f.jsxs)("div",{className:"col-12 m-2",children:[(0,f.jsx)("p",{className:" d-flex justify-content-start profile-card-title",children:"Full Name"}),(0,f.jsx)("input",{type:"text",placeholder:"Full Name",className:"col-12 profile-edit-input p-2 text-capitalize",name:"name",defaultValue:null===T||void 0===T?void 0:T.name,onChange:B})]}),(0,f.jsxs)("div",{className:"col-12 d-flex justify-content-between mt-3 ",children:[(0,f.jsxs)("div",{className:"col-6 m-2 position-relative",children:[(0,f.jsx)("p",{className:" d-flex justify-content-start profile-card-title",children:"Password"}),(0,f.jsx)("input",{type:_?"text":"password",autoComplete:"false",value:E.password,placeholder:"Password",className:"col-12 profile-edit-input p-2",name:"password",onChange:B}),g&&(0,f.jsx)("p",{className:"errorText",children:g}),(0,f.jsx)("div",{className:"eye_container eye_container2  pt-1",onClick:()=>C(!_),children:_?(0,f.jsx)("img",{className:"eye_icon",src:"/images/icons/view.png",alt:""}):(0,f.jsx)("img",{className:"eye_icon",src:"/images/icons/hide.png",alt:""})})]}),(0,f.jsxs)("div",{className:"col-6 m-2 position-relative",children:[(0,f.jsx)("p",{className:" d-flex justify-content-start profile-card-title",children:"Confirm Password"}),(0,f.jsx)("input",{type:S?"text":"password",value:E.confirmPassword,placeholder:"Confirm Password",className:"col-12 profile-edit-input p-2",name:"confirmPassword",onChange:B}),w&&(0,f.jsx)("p",{className:"d-flex errorText ms-2 justify-content-start",children:w}),(0,f.jsx)("div",{className:"eye_container eye_container2 pt-1",onClick:()=>k(!S),children:S?(0,f.jsx)("img",{className:"eye_icon",src:"/images/icons/view.png",alt:""}):(0,f.jsx)("img",{className:"eye_icon",src:"/images/icons/hide.png",alt:""})})]})]}),(0,f.jsx)("div",{className:" text-end ms-4 mt-1 ",children:(0,f.jsx)(u.Z,{appearance:"primary",className:"profile-edit-submit btn  rounded-2 m-0",type:"submit",children:"Update Profile"})})]})]})})]}),(0,f.jsx)("div",{className:"col",children:(0,f.jsx)(i.Z,{})})]})})})}}}]);
//# sourceMappingURL=4044.255084c0.chunk.js.map