"use strict";(self.webpackChunkmyot=self.webpackChunkmyot||[]).push([[470],{40470:(e,s,a)=>{a.r(s),a.d(s,{default:()=>w});var i=a(72791),l=a(39040),n=a(54347),o=a(57689),t=a(11087),r=a(61134),c=a(41418),d=a.n(c),m=a(28113),p=a(21830),u=a.n(p),v=a(59434),x=a(64581),h=a(81161),f=a(11632),j=a(9806),g=a(80184);const w=()=>{var e,s;const[a,c]=(0,i.useState)([]),[p,w]=(0,i.useState)(),[N,y]=(0,i.useState)(!1),[b,_]=(0,i.useState)(!1),C=(0,o.s0)(),P=(0,v.I0)(),S=(0,o.TH)(),{state:k}=S,{register:A,handleSubmit:O,formState:{errors:Z}}=(0,r.cI)({mode:"onChange"});return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:"container-fluid",children:(0,g.jsxs)("div",{className:"row",children:[(0,g.jsx)("div",{className:"col-2 sidebar",children:(0,g.jsx)(n.Z,{})}),(0,g.jsxs)("div",{className:"col-7 middle-content p-0 min-vh-100",children:[(0,g.jsx)("div",{className:"container-fluid sticky-top bg-white mb-4",children:(0,g.jsxs)("nav",{className:"row header bg-white  ",children:[(0,g.jsx)("ul",{className:"col align-items-center mt-3",children:(0,g.jsx)("li",{className:"nav-item dropdown-hover d-none d-lg-block",children:(0,g.jsx)("a",{className:"nav-link fw-bold",children:"My Profile / Edit "})})}),(0,g.jsxs)("div",{className:"col-7 d-flex align-items-center  justify-content-end",children:[(0,g.jsx)("form",{className:"",role:"search",children:(0,g.jsx)("input",{autoComplete:"false",className:"form-control search-bar",type:"search",placeholder:"Search","aria-label":"Search"})}),(0,g.jsxs)("div",{className:"",children:[(0,g.jsx)("img",{src:"/images/dashboard/announcement.png",alt:"",className:"ms-4"}),(0,g.jsx)(t.rU,{to:"/Admin/Chat",children:(0,g.jsx)("img",{src:"/images/dashboard/chat-left-dots-fill.png",alt:"",className:"ms-4"})}),(0,g.jsx)("img",{src:"/images/dashboard/round-notifications.png",alt:"",className:"ms-4"})]})]})]})}),(0,g.jsx)("div",{className:"container px-4 text-center min-vh-100 ",children:(0,g.jsxs)("form",{onSubmit:O((async e=>{console.log(null===a||void 0===a?void 0:a.profile_img);let s=localStorage.getItem("myot_admin_id");if((null===e||void 0===e?void 0:e.password)!==(null===e||void 0===e?void 0:e.cpassword))return u().fire({toast:!0,icon:"error",position:"top-end",title:"Password is mismatch",showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),!1;const i=new FormData;null!==e&&void 0!==e&&e.name&&i.append("name",null===e||void 0===e?void 0:e.name),i.append("profile_Pic",null===a||void 0===a?void 0:a.profile_img),i.append("password",null===e||void 0===e?void 0:e.password),i.append("confirmPassword",null===e||void 0===e?void 0:e.cpassword),i.append("address",null===e||void 0===e?void 0:e.companyAddress),i.append("companyName",null===e||void 0===e?void 0:e.companyName);let{data:l}=await(0,m.P7)(s,i);if(console.log(l),l&&null!==l&&void 0!==l&&l.error)return u().fire({toast:!0,icon:"error",position:"top-end",title:null===l||void 0===l?void 0:l.message,showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),!1;var n,o,t,r;!l||null!==l&&void 0!==l&&l.error||(u().fire({toast:!0,icon:"success",position:"top-end",title:"Profile update successfully",showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),c([]),P((0,x.Ax)(null===l||void 0===l||null===(n=l.results)||void 0===n||null===(o=n.admin)||void 0===o?void 0:o.profile_Pic)),P((0,x.WY)(null===l||void 0===l||null===(t=l.results)||void 0===t||null===(r=t.admin)||void 0===r?void 0:r.name)),C("/Admin/My-profile"))})),autoComplete:"off",children:[(0,g.jsxs)("div",{className:"row rounded",children:[(0,g.jsx)("div",{className:" d-flex justify-content-between",children:(0,g.jsx)("label",{htmlFor:"img",children:"Your Profile Picture"})}),(0,g.jsx)("div",{className:" d-flex justify-content-start my-4",children:(0,g.jsxs)("div",{className:"position-relative",children:[(0,g.jsx)("img",{src:p||((null===k||void 0===k?void 0:k.profile_Pic)||"/images/icons/user.jpg"),alt:"",className:"w_100_h_100"}),(0,g.jsx)("input",{autoComplete:"false",className:"ms-5 position-absolute top-50 start-0 translate-middle cursor_pointer",style:{height:"100%",width:"100%",opacity:0},id:"profile_img",name:"profile_img",type:"file",accept:".jpeg, .jpg, .png",defaultValue:"",onChange:e=>((e,s)=>{c({...a,[s]:e.target.files[0]});const i=e.target.files[0],l=URL.createObjectURL(i);w(l)})(e,"profile_img")})]})}),(0,g.jsxs)("div",{className:"row",children:[(0,g.jsx)("div",{className:"col-12 d-flex justify-content-between mb-2"}),(0,g.jsx)("div",{className:"col-12 d-flex justify-content-between mb-2",children:(0,g.jsxs)("div",{className:"col-12 m-2",children:[(0,g.jsx)("p",{className:" d-flex justify-content-start profile-card-title",children:"Name"}),(0,g.jsx)("input",{autoComplete:"false",type:"text",defaultValue:(null===k||void 0===k?void 0:k.name)||(null===k||void 0===k?void 0:k.companyName),placeholder:"name",className:d()("col-12 profile-edit-input p-2 text-capitalize",{"is-invalid":Z.name}),name:"name",...A("name")}),Z.name&&(0,g.jsx)("div",{className:"invalid-feedback",children:Z.name.message})]})}),(0,g.jsxs)("div",{className:"col-12 d-flex justify-content-between",children:[(0,g.jsxs)("div",{className:"col-6 m-2 input_icon_container",children:[(0,g.jsx)("div",{className:null!==Z&&void 0!==Z&&Z.password?"text-danger input_icons2":"input_icons2",children:(0,g.jsx)(j.G,{icon:f.byT})}),(0,g.jsx)("p",{className:" d-flex justify-content-start profile-card-title",children:"Password"}),(0,g.jsx)("input",{autoComplete:"false",type:N?"text":"password",placeholder:"Password",className:d()("col-12 profile-edit-input p-2",{"is-invalid":Z.password}),name:"password",...A("password",{pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"* Minimun 8 characters, One Uppercase, One Lowercase & One Special Character Allowed"}})}),(0,g.jsx)("div",{className:"eye_container eye_container2 pt-1",onClick:()=>y(!N),children:N?(0,g.jsx)("img",{className:"eye_icon",src:"/images/icons/view.png",alt:""}):(0,g.jsx)("img",{className:"eye_icon",src:"/images/icons/hide.png",alt:""})}),Z.password&&(0,g.jsx)("small",{className:"errorText ",children:null===(e=Z.password)||void 0===e?void 0:e.message})]}),(0,g.jsxs)("div",{className:"col-6 m-2 input_icon_container",children:[(0,g.jsx)("div",{className:null!==Z&&void 0!==Z&&Z.cpassword?"text-danger input_icons2":"input_icons2",children:(0,g.jsx)(j.G,{icon:f.byT})}),(0,g.jsx)("p",{className:" d-flex justify-content-start profile-card-title",children:"Confirm Password"}),(0,g.jsx)("input",{autoComplete:"false",type:b?"text":"password",placeholder:"Confirm Password",className:d()("col-12 profile-edit-input p-2",{"is-invalid":Z.cpassword}),name:"cpassword",...A("cpassword",{pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"* Minimun 8 characters, One Uppercase, One Lowercase & One Special Character Allowed"}})}),(0,g.jsx)("div",{className:"eye_container eye_container2 pt-1",onClick:()=>_(!b),children:b?(0,g.jsx)("img",{className:"eye_icon",src:"/images/icons/view.png",alt:""}):(0,g.jsx)("img",{className:"eye_icon",src:"/images/icons/hide.png",alt:""})}),Z.cpassword&&(0,g.jsx)("small",{className:"errorText ",children:null===(s=Z.cpassword)||void 0===s?void 0:s.message})]})]}),(0,g.jsx)("div",{className:"col-12 d-flex justify-content-between mb-2"})]})]}),(0,g.jsx)("div",{className:"text-end",children:(0,g.jsx)(h.Z,{style:{width:"150px"},appearance:"primary",className:"btn mb-3 text-nowrap me-2 rounded-2",type:"submit",children:"Update Profile"})})]})})]}),(0,g.jsx)("div",{className:"col",children:(0,g.jsx)(l.Z,{})})]})})})}}}]);
//# sourceMappingURL=470.c7557596.chunk.js.map