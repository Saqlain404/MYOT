{"version":3,"file":"static/js/4044.255084c0.chunk.js","mappings":"uRAYA,MAwTA,EAxTwBA,KACtB,MAAOC,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,aAC1BC,EAAUC,IAAeF,EAAAA,EAAAA,UAAS,KAClCG,EAAkBC,IAAuBJ,EAAAA,EAAAA,UAAS,CAAC,IACnDK,EAAeC,IAAoBN,EAAAA,EAAAA,UAAS,OAC5CO,EAAOC,IAAYR,EAAAA,EAAAA,aACnBS,EAAQC,IAAaV,EAAAA,EAAAA,aACrBW,EAAeC,IAAoBZ,EAAAA,EAAAA,aACnCa,EAAaC,IAAkBd,EAAAA,EAAAA,WAAS,IACxCe,EAAcC,IAAmBhB,EAAAA,EAAAA,WAAS,IAE1CiB,EAAMC,IAAWlB,EAAAA,EAAAA,UAAS,CAC/BmB,KAAM,GAGNlB,SAAU,GACVmB,gBAAiB,GAEjBC,YAAa,OAGTC,GAAWC,EAAAA,EAAAA,MAEXC,GAAWC,EAAAA,EAAAA,OACX,MAAEC,GAAUF,EASZG,GAAWC,EAAAA,EAAAA,MACXC,EAAeC,IACnBZ,EAAQ,IAAKD,EAAM,CAACa,EAAMC,OAAOZ,MAAOW,EAAMC,OAAOC,QACrDxB,EAAS,GAAG,GAGdyB,EAAAA,EAAAA,YAAU,KACHC,aAAaC,QAAQ,kBACxBR,EAAS,yBACX,GACC,IAEH,MAAMS,EAAgB,wCA6CtB,OACEC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACEF,EAAAA,EAAAA,KAAA,OAAKG,UAAU,kBAAiBD,UAC9BE,EAAAA,EAAAA,MAAA,OAAKD,UAAU,MAAKD,SAAA,EAClBF,EAAAA,EAAAA,KAAA,OAAKG,UAAU,gBAAeD,UAC5BF,EAAAA,EAAAA,KAACK,EAAAA,EAAW,OAEdD,EAAAA,EAAAA,MAAA,OAAKD,UAAU,sCAAqCD,SAAA,EAClDF,EAAAA,EAAAA,KAAA,OAAKG,UAAU,4CAA2CD,UACxDE,EAAAA,EAAAA,MAAA,OAAKD,UAAU,wBAAuBD,SAAA,EACpCF,EAAAA,EAAAA,KAAA,MAAIG,UAAU,8BAA6BD,UACzCF,EAAAA,EAAAA,KAAA,MAAIG,UAAU,4CAA2CD,UACvDF,EAAAA,EAAAA,KAAA,KAAGG,UAAU,wBAAwBG,KAAK,oBAAmBJ,SAAC,2BAKlEF,EAAAA,EAAAA,KAAA,OAAKG,UAAU,uDAAsDD,UASnEE,EAAAA,EAAAA,MAAA,OAAKD,UAAU,GAAED,SAAA,EACfF,EAAAA,EAAAA,KAAA,OACEO,IAAI,qCACJC,IAAI,GACJL,UAAU,WAEZH,EAAAA,EAAAA,KAACS,EAAAA,GAAI,CAACC,GAAI,iBAAiBR,UACzBF,EAAAA,EAAAA,KAAA,OACEO,IAAI,4CACJC,IAAI,GACJL,UAAU,YAGdH,EAAAA,EAAAA,KAAA,OACEO,IAAI,4CACJC,IAAI,GACJL,UAAU,oBAOpBH,EAAAA,EAAAA,KAAA,OAAKG,UAAU,yCAAwCD,UACrDE,EAAAA,EAAAA,MAAA,OAAKD,UAAU,cAAaD,SAAA,EAC1BF,EAAAA,EAAAA,KAAA,OAAKG,UAAU,kCAAiCD,UAC9CF,EAAAA,EAAAA,KAAA,KAAGG,UAAU,kBAAiBD,SAAC,4BAGjCE,EAAAA,EAAAA,MAAA,QAAMD,UAAU,MAAMQ,SAlGnBC,UAAkB,IAADC,EAGhC,GAFApB,EAAMqB,iBAEFlC,EAAKhB,WAAamC,EAAcgB,KAAKnC,EAAKhB,UAI5C,OAHAO,EACE,yGAEK,EAGLS,EAAKG,kBAAoBH,EAAKhB,UAChCS,EAAU,0BAGZ,MAAM2C,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQtC,EAAKE,MAG7BkC,EAASE,OAAO,WAAYtC,EAAKhB,UACjCoD,EAASE,OAAO,kBAAmBtC,EAAKG,iBACxCiC,EAASE,OAAO,cAAetC,EAAKI,aAGpC,MAAMmC,QAAiBC,EAAAA,EAAAA,IAAcJ,GAGT,IAADK,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAF3BC,QAAQC,IAAIT,GAEM,QAAdN,EAACM,EAASU,YAAI,IAAAhB,GAAbA,EAAe3C,SAClBoB,EAAS,qBACTwC,IAAAA,KAAU,CACRC,OAAO,EACPC,KAAM,UACNC,SAAU,UACVC,MAAO,kBACPC,mBAAmB,EACnBC,kBAAkB,EAClBC,MAAO,MAETpD,GAASqD,EAAAA,EAAAA,IAAyB,OAARnB,QAAQ,IAARA,GAAc,QAANE,EAARF,EAAUU,YAAI,IAAAR,GAAS,QAATC,EAAdD,EAAgBkB,eAAO,IAAAjB,GAAU,QAAVC,EAAvBD,EAAyBkB,gBAAQ,IAAAjB,OAAzB,EAARA,EAAmCvC,cAC7DC,GAASwD,EAAAA,EAAAA,IAAuB,OAARtB,QAAQ,IAARA,GAAc,QAANK,EAARL,EAAUU,YAAI,IAAAL,GAAS,QAATC,EAAdD,EAAgBe,eAAO,IAAAd,GAAU,QAAVC,EAAvBD,EAAyBe,gBAAQ,IAAAd,OAAzB,EAARA,EAAmC5C,OAC3D6C,QAAQC,IAAIT,GACd,EA0DqDjB,SAAA,EACvCE,EAAAA,EAAAA,MAAA,OAAKD,UAAU,6CAA4CD,SAAA,EACzDF,EAAAA,EAAAA,KAAA,SAAO0C,QAAQ,UAASxC,UACtBF,EAAAA,EAAAA,KAAA,OACEO,IAAKjC,IAAqC,OAALe,QAAK,IAALA,OAAK,EAALA,EAAOL,aAC5CwB,IAAI,GACJL,UAAU,cACVwC,MAAO,CAAEC,OAAQ,gBAGrB5C,EAAAA,EAAAA,KAAA,SACEG,UAAU,cACVwC,MAAO,CAAEE,QAAS,QAClBpF,KAAK,OACLqF,GAAG,UACHC,OAAO,UACPjE,KAAK,cAELkE,SAzIKvD,IACvBZ,EAAQ,IAAKD,EAAMI,YAAaS,EAAMC,OAAOuD,MAAM,KACnD,MAAMC,EAAezD,EAAMC,OAAOuD,MAAM,GAClCE,EAAWC,IAAIC,gBAAgBH,GACrC3E,EAAiB4E,EAAS,QAwIZ/C,EAAAA,EAAAA,MAAA,OAAKD,UAAU,aAAYD,SAAA,EACzBF,EAAAA,EAAAA,KAAA,KAAGG,UAAU,mDAAkDD,SAAC,eAGhEF,EAAAA,EAAAA,KAAA,SACEvC,KAAK,OACL6F,YAAY,YACZnD,UAAU,gDACVrB,KAAK,OACLyE,aAAmB,OAALlE,QAAK,IAALA,OAAK,EAALA,EAAOP,KAErBkE,SAAUxD,QA6CdY,EAAAA,EAAAA,MAAA,OAAKD,UAAU,8CAA6CD,SAAA,EAC1DE,EAAAA,EAAAA,MAAA,OAAKD,UAAU,8BAA6BD,SAAA,EAC1CF,EAAAA,EAAAA,KAAA,KAAGG,UAAU,mDAAkDD,SAAC,cAGhEF,EAAAA,EAAAA,KAAA,SACEvC,KAAMe,EAAc,OAAS,WAC7BgF,aAAa,QACb7D,MAAOf,EAAKhB,SACZ0F,YAAY,WACZnD,UAAU,gCACVrB,KAAK,WACLkE,SAAUxD,IAEXtB,IAAS8B,EAAAA,EAAAA,KAAA,KAAGG,UAAU,YAAWD,SAAEhC,KACpC8B,EAAAA,EAAAA,KAAA,OACEG,UAAU,qCACVsD,QAASA,IAAMhF,GAAgBD,GAAa0B,SAE3C1B,GACCwB,EAAAA,EAAAA,KAAA,OACEG,UAAU,WACVI,IAAI,yBACJC,IAAI,MAGNR,EAAAA,EAAAA,KAAA,OACEG,UAAU,WACVI,IAAI,yBACJC,IAAI,WAKZJ,EAAAA,EAAAA,MAAA,OAAKD,UAAU,8BAA6BD,SAAA,EAC1CF,EAAAA,EAAAA,KAAA,KAAGG,UAAU,mDAAkDD,SAAC,sBAGhEF,EAAAA,EAAAA,KAAA,SACEvC,KAAMiB,EAAe,OAAS,WAC9BiB,MAAOf,EAAKG,gBACZuE,YAAY,mBACZnD,UAAU,gCACVrB,KAAK,kBACLkE,SAAUxD,IAEXpB,IACC4B,EAAAA,EAAAA,KAAA,KAAGG,UAAU,8CAA6CD,SACvD9B,KAGL4B,EAAAA,EAAAA,KAAA,OACEG,UAAU,oCACVsD,QAASA,IAAM9E,GAAiBD,GAAcwB,SAE7CxB,GACCsB,EAAAA,EAAAA,KAAA,OACEG,UAAU,WACVI,IAAI,yBACJC,IAAI,MAGNR,EAAAA,EAAAA,KAAA,OACEG,UAAU,WACVI,IAAI,yBACJC,IAAI,cAMdR,EAAAA,EAAAA,KAAA,OAAKG,UAAU,uBAAsBD,UACrCF,EAAAA,EAAAA,KAAC0D,EAAAA,EAAM,CAACC,WAAW,UAAUxD,UAAU,yCAAyC1C,KAAK,SAAQyC,SAAC,iCAStGF,EAAAA,EAAAA,KAAA,OAAKG,UAAU,MAAKD,UAClBF,EAAAA,EAAAA,KAAC4D,EAAAA,EAAY,YAIlB,C","sources":["Components/Employee/EmplEditProfile.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport RightSidebar from \"../RightSidebar\";\r\nimport Sidebar from \"../Sidebar\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport SideBarEmpl from \"./SideBarEmpl\";\r\nimport { updateProfile } from \"../../ApiServices/EmployeeHttpService/employeeLoginHttpService\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport Swal from \"sweetalert2\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { updateProfilePic, updateUserName } from \"../app/slice/userSlice\";\r\nimport { Button } from \"rsuite\";\r\n\r\nconst EmplEditProfile = () => {\r\n  const [type, setType] = useState(\"password\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [validationErrors, setValidationErrors] = useState({});\r\n  const [profileDetail, setProfileDetail] = useState(null);\r\n  const [error, setError] = useState();\r\n  const [cError, setCError] = useState();\r\n  const [profileImgUrl, setProfileImgUrl] = useState();\r\n  const [passVisible, setPassVisible] = useState(false);\r\n  const [cPassVisible, setCPassVisible] = useState(false);\r\n\r\n  const [post, setPost] = useState({\r\n    name: \"\",\r\n    // email: \"\",\r\n    // mobileNumber: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    // DOB:'',\r\n    profile_Pic: null,\r\n  });\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const location = useLocation();\r\n  const { state } = location;\r\n\r\n  const onFileSelection = (event) => {\r\n    setPost({ ...post, profile_Pic: event.target.files[0] });\r\n    const selectedFile = event.target.files[0];\r\n    const imageUrl = URL.createObjectURL(selectedFile);\r\n    setProfileImgUrl(imageUrl);\r\n  };\r\n\r\n  const navigate = useNavigate();\r\n  const handleInput = (event) => {\r\n    setPost({ ...post, [event.target.name]: event.target.value });\r\n    setError(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!localStorage.getItem(\"token-company\")) {\r\n      navigate(\"/Employee/edit-profile\");\r\n    }\r\n  }, []); \r\n\r\n  const passwordRegex = /^(?=.*[A-Z])(?=.*[!@#$%^&*])(?=.{8,})/;\r\n\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    \r\n    if (post.password && !passwordRegex.test(post.password)) {\r\n      setError(\r\n        \"Password must be at least 8 characters long, contain one uppercase letter, and one special character\"\r\n      );\r\n      return false;\r\n    }\r\n\r\n    if (post.confirmPassword !== post.password) {\r\n      setCError(\"Passwords do not match\");\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"name\", post.name);\r\n    // formData.append(\"email\", post.email);\r\n    // formData.append(\"mobileNumber\", post.mobileNumber);\r\n    formData.append(\"password\", post.password);\r\n    formData.append(\"confirmPassword\", post.confirmPassword);\r\n    formData.append(\"profile_Pic\", post.profile_Pic);\r\n    // formData.append(\"DOB\", post.DOB);\r\n\r\n    const response = await updateProfile(formData);\r\n    console.log(response)\r\n\r\n    if (!response.data?.error) {\r\n      navigate(\"/Employee/profile\");\r\n      Swal.fire({\r\n        toast: true,\r\n        icon: \"success\",\r\n        position: \"top-end\",\r\n        title: \"Profile Updated\",\r\n        showConfirmButton: false,\r\n        timerProgressBar: true,\r\n        timer: 3000,\r\n      });\r\n      dispatch(updateProfilePic(response?.data?.results?.employee?.profile_Pic));\r\n      dispatch(updateUserName(response?.data?.results?.employee?.name));\r\n      console.log(response);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-2 sidebar\">\r\n            <SideBarEmpl />\r\n          </div>\r\n          <div className=\"col-7 middle-content p-0 min-vh-100\">\r\n            <div className=\"container-fluid  sticky-top bg-white mb-4\">\r\n              <nav className=\"row header bg-white  \">\r\n                <ul className=\"col align-items-center mt-3\">\r\n                  <li className=\"nav-item dropdown-hover d-none d-lg-block\">\r\n                    <a className=\"nav-link fw-bold ms-2\" href=\"/Employee/profile\">\r\n                      My Profile / Edit\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n                <div className=\"col-7 d-flex align-items-center  justify-content-end\">\r\n                  {/* <form className=\"\" role=\"search\">\r\n                    <input\r\n                      className=\"form-control search-bar\"\r\n                      type=\"search\"\r\n                      placeholder=\"Search\"\r\n                      aria-label=\"Search\"\r\n                    />\r\n                  </form> */}\r\n                  <div className=\"\">\r\n                    <img\r\n                      src=\"/images/dashboard/announcement.png\"\r\n                      alt=\"\"\r\n                      className=\"ms-4 \"\r\n                    />\r\n                    <Link to={\"/Employee/Chat\"}>\r\n                      <img\r\n                        src=\"/images/dashboard/chat-left-dots-fill.png\"\r\n                        alt=\"\"\r\n                        className=\"ms-4\"\r\n                      />\r\n                    </Link>\r\n                    <img\r\n                      src=\"/images/dashboard/round-notifications.png\"\r\n                      alt=\"\"\r\n                      className=\"ms-4\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </nav>\r\n            </div>\r\n\r\n            <div className=\"container px-4 text-center min-vh-100 \">\r\n              <div className=\"row rounded\">\r\n                <div className=\" d-flex justify-content-between\">\r\n                  <p className=\"profile-txt m-2\">Your Profile Picture</p>\r\n                </div>\r\n\r\n                <form className=\"row\" onSubmit={onSubmit}>\r\n                  <div className=\" d-flex flex-column align-items-start mb-4\">\r\n                    <label htmlFor=\"new_img\">\r\n                      <img\r\n                        src={profileImgUrl ? profileImgUrl : state?.profile_Pic}\r\n                        alt=\"\"\r\n                        className=\"w_100_h_100\"\r\n                        style={{ cursor: \"pointer\" }}\r\n                      />\r\n                    </label>\r\n                    <input\r\n                      className=\"file-upload\"\r\n                      style={{ display: \"none\" }}\r\n                      type=\"file\"\r\n                      id=\"new_img\"\r\n                      accept=\"image/*\"\r\n                      name=\"profile_Pic\"\r\n                      // onChange={(e) => onFileSelection(e, \"image\")}\r\n                      onChange={onFileSelection}\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-12 m-2\">\r\n                    <p className=\" d-flex justify-content-start profile-card-title\">\r\n                      Full Name\r\n                    </p>\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"Full Name\"\r\n                      className=\"col-12 profile-edit-input p-2 text-capitalize\"\r\n                      name=\"name\"\r\n                      defaultValue={state?.name}\r\n                      // value={post.name}\r\n                      onChange={handleInput}\r\n                    />\r\n                    {/* {validationErrors.name && <p>{validationErrors.name}</p>} */}\r\n                  </div>\r\n                  {/* <div className=\"col-12 d-flex justify-content-between mb-2\">\r\n                   \r\n                    <div className=\"col-6 m-2\">\r\n                      <p className=\" d-flex justify-content-start profile-card-title\">\r\n                        Email\r\n                      </p>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={post.email}\r\n                        placeholder=\"Email\"\r\n                        className=\"col-12 profile-edit-input p-2\"\r\n                        name=\"email\"\r\n                        onChange={handleInput}\r\n                        />\r\n                        {validationErrors.email && <p>{validationErrors.email}</p>}\r\n                    </div>\r\n                  </div> */}\r\n                  {/* <div className=\"col-12 d-flex justify-content-between mb-2\">\r\n                    <div className=\"col-6 m-2\">\r\n                      <p className=\" d-flex justify-content-start profile-card-title\">\r\n                        Phone Number\r\n                      </p>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={post.mobileNumber}\r\n                        placeholder=\"Phone Number\"\r\n                        className=\"col-12 profile-edit-input p-2\"\r\n                        name=\"mobileNumber\"\r\n                        onChange={handleInput}\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-6 m-2\">\r\n                      <p className=\" d-flex justify-content-start profile-card-title\">Date of Birth</p>\r\n                       <input type=\"text\" \r\n                       placeholder=\"Date of Birth\"\r\n                       value={post.DOB}\r\n                       onChange={handleInput} \r\n                       name=\"DOB\"\r\n                       className=\"col-12 profile-edit-input p-2\" />\r\n                     </div>\r\n                  </div> */}\r\n                  <div className=\"col-12 d-flex justify-content-between mt-3 \">\r\n                    <div className=\"col-6 m-2 position-relative\">\r\n                      <p className=\" d-flex justify-content-start profile-card-title\">\r\n                        Password\r\n                      </p>\r\n                      <input\r\n                        type={passVisible ? \"text\" : \"password\"}\r\n                        autoComplete=\"false\"\r\n                        value={post.password}\r\n                        placeholder=\"Password\"\r\n                        className=\"col-12 profile-edit-input p-2\"\r\n                        name=\"password\"\r\n                        onChange={handleInput}\r\n                      />\r\n                      {error && <p className=\"errorText\">{error}</p>}\r\n                      <div\r\n                        className=\"eye_container eye_container2  pt-1\"\r\n                        onClick={() => setPassVisible(!passVisible)}\r\n                      >\r\n                        {passVisible ? (\r\n                          <img\r\n                            className=\"eye_icon\"\r\n                            src=\"/images/icons/view.png\"\r\n                            alt=\"\"\r\n                          />\r\n                        ) : (\r\n                          <img\r\n                            className=\"eye_icon\"\r\n                            src=\"/images/icons/hide.png\"\r\n                            alt=\"\"\r\n                          />\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-6 m-2 position-relative\">\r\n                      <p className=\" d-flex justify-content-start profile-card-title\">\r\n                        Confirm Password\r\n                      </p>\r\n                      <input\r\n                        type={cPassVisible ? \"text\" : \"password\"}\r\n                        value={post.confirmPassword}\r\n                        placeholder=\"Confirm Password\"\r\n                        className=\"col-12 profile-edit-input p-2\"\r\n                        name=\"confirmPassword\"\r\n                        onChange={handleInput}\r\n                      />\r\n                      {cError && (\r\n                        <p className=\"d-flex errorText ms-2 justify-content-start\">\r\n                          {cError}\r\n                        </p>\r\n                      )}\r\n                      <div\r\n                        className=\"eye_container eye_container2 pt-1\"\r\n                        onClick={() => setCPassVisible(!cPassVisible)}\r\n                      >\r\n                        {cPassVisible ? (\r\n                          <img\r\n                            className=\"eye_icon\"\r\n                            src=\"/images/icons/view.png\"\r\n                            alt=\"\"\r\n                          />\r\n                        ) : (\r\n                          <img\r\n                            className=\"eye_icon\"\r\n                            src=\"/images/icons/hide.png\"\r\n                            alt=\"\"\r\n                          />\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\" text-end ms-4 mt-1 \">\r\n                  <Button appearance=\"primary\" className=\"profile-edit-submit btn  rounded-2 m-0\" type=\"submit\">\r\n                      Update Profile\r\n                    </Button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col\">\r\n            <RightSidebar />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EmplEditProfile;\r\n"],"names":["EmplEditProfile","type","setType","useState","password","setPassword","validationErrors","setValidationErrors","profileDetail","setProfileDetail","error","setError","cError","setCError","profileImgUrl","setProfileImgUrl","passVisible","setPassVisible","cPassVisible","setCPassVisible","post","setPost","name","confirmPassword","profile_Pic","dispatch","useDispatch","location","useLocation","state","navigate","useNavigate","handleInput","event","target","value","useEffect","localStorage","getItem","passwordRegex","_jsx","_Fragment","children","className","_jsxs","SideBarEmpl","href","src","alt","Link","to","onSubmit","async","_response$data","preventDefault","test","formData","FormData","append","response","updateProfile","_response$data2","_response$data2$resul","_response$data2$resul2","_response$data3","_response$data3$resul","_response$data3$resul2","console","log","data","Swal","toast","icon","position","title","showConfirmButton","timerProgressBar","timer","updateProfilePic","results","employee","updateUserName","htmlFor","style","cursor","display","id","accept","onChange","files","selectedFile","imageUrl","URL","createObjectURL","placeholder","defaultValue","autoComplete","onClick","Button","appearance","RightSidebar"],"sourceRoot":""}