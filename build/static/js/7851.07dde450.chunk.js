"use strict";(self.webpackChunkmyot=self.webpackChunkmyot||[]).push([[7851],{37851:(e,s,a)=>{a.r(s),a.d(s,{default:()=>w});var i=a(72791),l=a(39040),n=a(57689),o=a(11087),t=a(98726),r=a(59434),c=a(29655),d=a(61134),m=a(41418),p=a.n(m),u=a(30059),v=a(64581),h=a(81161),x=a(21830),f=a.n(x),j=a(9806),g=a(11632),N=a(80184);const w=()=>{var e,s;const[a,m]=(0,i.useState)([]),[x,w]=(0,i.useState)(),[y,b]=(0,i.useState)(!1),[_,C]=(0,i.useState)(!1),P=(0,n.s0)(),S=(0,r.I0)(),k=(0,n.TH)(),{state:A}=k,O=localStorage.getItem("user_id"),{register:Z,handleSubmit:U,formState:{errors:$}}=(0,d.cI)({mode:"onChange"});return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("div",{className:"container-fluid",children:(0,N.jsxs)("div",{className:"row",children:[(0,N.jsx)("div",{className:"col-2 sidebar",children:(0,N.jsx)(t.Z,{})}),(0,N.jsxs)("div",{className:"col-7 middle-content p-0 min-vh-100",children:[(0,N.jsx)("div",{className:"container-fluid border-bottom sticky-top bg-white mb-4",children:(0,N.jsxs)("nav",{className:"row header bg-white  ",children:[(0,N.jsx)("ul",{className:"col align-items-center mt-3",children:(0,N.jsx)("li",{className:"nav-item dropdown-hover d-none d-lg-block",children:(0,N.jsx)("a",{className:"nav-link ms-2",href:"app-email.html",children:"My Profile / Edit"})})}),(0,N.jsxs)("div",{className:"col-7 d-flex align-items-center  justify-content-end",children:[(0,N.jsx)("form",{className:"",role:"search",children:(0,N.jsx)("input",{className:"form-control search-bar",type:"search",placeholder:"Search","aria-label":"Search"})}),(0,N.jsxs)("div",{className:"",children:[(0,N.jsx)("img",{src:"/images/dashboard/announcement.png",alt:"",className:"ms-4 "}),(0,N.jsx)(o.rU,{to:"/Department/Chat",children:(0,N.jsx)("img",{src:"/images/dashboard/chat-left-dots-fill.png",alt:"",className:"ms-4"})}),(0,N.jsx)("img",{src:"/images/dashboard/round-notifications.png",alt:"",className:"ms-4"})]})]})]})}),(0,N.jsx)("div",{className:"container px-4 text-center min-vh-100 ",children:(0,N.jsxs)("form",{onSubmit:U((async e=>{if(console.log(null===a||void 0===a?void 0:a.profile_img),(null===e||void 0===e?void 0:e.password)!==(null===e||void 0===e?void 0:e.cpassword))return c.Am.error("Password does not match",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),!1;const s=new FormData;null!==e&&void 0!==e&&e.name&&s.append("name",null===e||void 0===e?void 0:e.name),s.append("profile_Pic",null===a||void 0===a?void 0:a.profile_img),s.append("password",null===e||void 0===e?void 0:e.password),s.append("confirmPassword",null===e||void 0===e?void 0:e.cpassword),s.append("address",null===e||void 0===e?void 0:e.companyAddress),s.append("companyName",null===e||void 0===e?void 0:e.companyName);let{data:i}=await(0,u.jD)(O,s);if(console.log(i),i&&null!==i&&void 0!==i&&i.error)return f().fire({toast:!0,icon:"error",position:"top-end",title:null===i||void 0===i?void 0:i.message,showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),!1;var l,n,o,t;!i||null!==i&&void 0!==i&&i.error||(f().fire({toast:!0,icon:"success",position:"top-end",title:"Profile update successfully",showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),m([]),S((0,v.Ax)(null===i||void 0===i||null===(l=i.results)||void 0===l||null===(n=l.department)||void 0===n?void 0:n.profile_Pic)),S((0,v.WY)(null===i||void 0===i||null===(o=i.results)||void 0===o||null===(t=o.department)||void 0===t?void 0:t.name)),P("/Department/My-profile"))})),autoComplete:"off",children:[(0,N.jsxs)("div",{className:"row rounded",children:[(0,N.jsx)("div",{className:" d-flex justify-content-between",children:(0,N.jsx)("label",{htmlFor:"img",children:"Your Profile Picture"})}),(0,N.jsx)("div",{className:" d-flex justify-content-start mb-4",children:(0,N.jsxs)("div",{className:"position-relative",children:[(0,N.jsx)("img",{src:x||((null===A||void 0===A?void 0:A.profile_Pic)||"/images/icons/user.jpg"),alt:"",className:"w_100_h_100"}),(0,N.jsx)("input",{autoComplete:"false",className:"ms-5 position-absolute top-50 start-0 translate-middle cursor_pointer",style:{height:"100%",width:"100%",opacity:0},id:"profile_img",name:"profile_img",type:"file",accept:"image/*",defaultValue:"",onChange:e=>((e,s)=>{m({...a,[s]:e.target.files[0]});const i=e.target.files[0],l=URL.createObjectURL(i);w(l)})(e,"profile_img")})]})}),(0,N.jsxs)("div",{className:"row",children:[(0,N.jsx)("div",{className:"col-12 d-flex justify-content-between mb-2"}),(0,N.jsx)("div",{className:"col-12 d-flex justify-content-between mb-2",children:(0,N.jsxs)("div",{className:"col-12 m-2",children:[(0,N.jsx)("p",{className:" d-flex justify-content-start profile-card-title",children:"Name"}),(0,N.jsx)("input",{autoComplete:"false",type:"text",defaultValue:null===A||void 0===A?void 0:A.name,placeholder:"name",className:p()("col-12 profile-edit-input p-2 text-capitalize",{"is-invalid":$.name}),name:"name",...Z("name")}),$.name&&(0,N.jsx)("div",{className:"invalid-feedback",children:$.name.message})]})}),(0,N.jsxs)("div",{className:"col-12 d-flex justify-content-between",children:[(0,N.jsxs)("div",{className:"col-6 m-2 input_icon_container",children:[(0,N.jsx)("div",{className:null!==$&&void 0!==$&&$.password?"text-danger input_icons2":"input_icons2",children:(0,N.jsx)(j.G,{icon:g.byT})}),(0,N.jsx)("p",{className:" d-flex justify-content-start profile-card-title",children:"Password"}),(0,N.jsx)("input",{autoComplete:"false",type:y?"text":"password",placeholder:"Password",className:p()("col-12 profile-edit-input p-2",{"is-invalid":$.password}),name:"password",...Z("password",{pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"* Minimun 8 characters, One Uppercase, One Lowercase & A Special Character Allowed"}})}),(0,N.jsx)("div",{className:"eye_container eye_container2 pt-1",onClick:()=>b(!y),children:y?(0,N.jsx)("img",{className:"eye_icon",src:"/images/icons/view.png",alt:""}):(0,N.jsx)("img",{className:"eye_icon",src:"/images/icons/hide.png",alt:""})}),$.password&&(0,N.jsx)("small",{className:"errorText ",children:null===(e=$.password)||void 0===e?void 0:e.message})]}),(0,N.jsxs)("div",{className:"col-6 m-2 input_icon_container",children:[(0,N.jsx)("div",{className:null!==$&&void 0!==$&&$.cpassword?"text-danger input_icons2":"input_icons2",children:(0,N.jsx)(j.G,{icon:g.byT})}),(0,N.jsx)("p",{className:" d-flex justify-content-start profile-card-title",children:"Confirm Password"}),(0,N.jsx)("input",{autoComplete:"false",type:_?"text":"password",placeholder:"Confirm Password",className:p()("col-12 profile-edit-input p-2",{"is-invalid":$.cpassword}),name:"cpassword",...Z("cpassword",{pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"* Minimun 8 characters, One Uppercase, One Lowercase & A Special Character Allowed"}})}),(0,N.jsx)("div",{className:"eye_container eye_container2 pt-1",onClick:()=>C(!_),children:_?(0,N.jsx)("img",{className:"eye_icon",src:"/images/icons/view.png",alt:""}):(0,N.jsx)("img",{className:"eye_icon",src:"/images/icons/hide.png",alt:""})}),$.cpassword&&(0,N.jsx)("small",{className:"errorText ",children:null===(s=$.cpassword)||void 0===s?void 0:s.message})]})]}),(0,N.jsx)("div",{className:"col-12 d-flex justify-content-between mb-2"})]})]}),(0,N.jsx)("div",{className:"text-end",children:(0,N.jsx)(h.Z,{style:{width:"150px"},appearance:"primary",className:"btn mb-3 text-nowrap me-2 rounded-2",type:"submit",children:"Update Profile"})})]})})]}),(0,N.jsx)("div",{className:"col",children:(0,N.jsx)(l.Z,{})})]})})})}}}]);
//# sourceMappingURL=7851.07dde450.chunk.js.map